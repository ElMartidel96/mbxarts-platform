/**
 * CURRICULUM DATA - CG Academy Complete Tree
 * ==========================================
 * 
 * Datos completos del √°rbol curricular CG Academy con 21 m√≥dulos.
 * Implementaci√≥n exacta del documento maestro proporcionado.
 * 
 * Made by mbxarts.com The Moon in a Box property
 * Co-Author: Godez22
 */

import type { Module, Branch, Unit, Lesson, Category } from '../types/curriculum';

// ========== CATEGOR√çAS/MATERIAS MADRES ==========
export const categories: Category[] = [
  {
    id: 'fundamentos-onboarding',
    title: 'Fundamentos & Onboarding',
    description: 'Base cr√≠tica para usuarios nuevos',
    modules: ['M0', 'M1'],
    color: '#3B82F6',
    icon: 'üéØ',
    order: 1
  },
  {
    id: 'protocolos-base-computo',
    title: 'Protocolos Base & C√≥mputo',
    description: 'Core t√©cnico de blockchain',
    modules: ['M2', 'M3', 'M8', 'M14', 'M15'],
    color: '#059669',
    icon: '‚öôÔ∏è',
    order: 2
  },
  {
    id: 'activos-mercados',
    title: 'Activos & Mercados',
    description: 'Econom√≠a cripto y trading',
    modules: ['M4', 'M5', 'M6', 'M12'],
    color: '#F59E0B',
    icon: 'üíé',
    order: 3
  },
  {
    id: 'organizacion-diseno-economico',
    title: 'Organizaci√≥n & Dise√±o Econ√≥mico',
    description: 'Gobernanza y tokenomics',
    modules: ['M7', 'M11'],
    color: '#8B5CF6',
    icon: 'üî∫',
    order: 4
  },
  {
    id: 'infraestructura-interop',
    title: 'Infraestructura & Interop',
    description: 'Infraestructura y conectividad',
    modules: ['M9', 'M16'],
    color: '#06B6D4',
    icon: 'üîµ',
    order: 5
  },
  {
    id: 'seguridad-cumplimiento',
    title: 'Seguridad & Cumplimiento',
    description: 'Seguridad cr√≠tica y compliance',
    modules: ['M10', 'M18', 'M19'],
    color: '#EF4444',
    icon: 'üõ°Ô∏è',
    order: 6
  },
  {
    id: 'aplicaciones-tendencias',
    title: 'Aplicaciones & Tendencias',
    description: 'Futuro y gaming',
    modules: ['M17', 'M20'],
    color: '#EC4899',
    icon: 'üîΩ',
    order: 7
  },
  {
    id: 'desarrollo-auditoria',
    title: 'Desarrollo & Auditor√≠a',
    description: 'Desarrollo t√©cnico avanzado',
    modules: ['M13'],
    color: '#7C3AED',
    icon: '‚¨ú',
    order: 8
  }
];

// ========== M√ìDULOS COMPLETOS (M0-M20) ==========
export const modules: Module[] = [
  // ===== M0: ONBOARDING & SEGURIDAD =====
  {
    id: 'M0',
    title: 'Onboarding & Seguridad',
    description: 'Usuario nuevo: instalar, crear, respaldar y usar wallet con h√°bitos seguros',
    objective: 'Dominar el setup seguro de wallets y entender gas/redes',
    branches: [
      {
        id: 'M0.R1',
        title: 'Wallets (creaci√≥n, backup, uso inicial)',
        description: 'Instalaci√≥n, configuraci√≥n y primeras transacciones',
        units: [
          {
            id: 'M0.R1.U1',
            title: 'Instalaci√≥n & setup',
            description: 'MetaMask setup y configuraci√≥n de redes',
            lessons: [
              {
                id: 'M0.R1.U1.L1',
                title: 'Instalar MetaMask (mobile/desktop) y crear EOA',
                objective: 'Ahora s√© instalar y configurar MetaMask correctamente',
                description: 'Instalaci√≥n paso a paso de MetaMask en dispositivos m√≥viles y desktop, creaci√≥n de EOA',
                duration: 3,
                difficulty: 'beginner',
                evidenceType: 'screenshot',
                evidenceDescription: 'Screenshot de wallet configurada con EOA creada',
                xpReward: 50,
                status: 'available',
                icon: 'üîµ',
                tags: ['wallet', 'setup', 'metamask', 'eoa']
              },
              {
                id: 'M0.R1.U1.L2',
                title: 'Configurar Base/Mainnet & Base Sepolia (RPC y explorers)',
                objective: 'Ahora s√© configurar redes Base en mi wallet',
                description: 'Agregar RPCs de Base y Base Sepolia, configurar explorers correspondientes',
                duration: 4,
                difficulty: 'beginner',
                evidenceType: 'screenshot',
                evidenceDescription: 'Screenshot mostrando redes Base configuradas',
                xpReward: 60,
                status: 'locked',
                prerequisites: ['M0.R1.U1.L1'],
                icon: 'üîµ',
                tags: ['networks', 'rpc', 'base', 'explorers']
              },
              {
                id: 'M0.R1.U1.L3',
                title: 'Habilitar biometr√≠a/PIN; bloquear app autom√°ticamente',
                objective: 'Ahora s√© asegurar mi wallet con autenticaci√≥n biom√©trica',
                description: 'Configurar seguridad biom√©trica, PIN de acceso y bloqueo autom√°tico',
                duration: 2,
                difficulty: 'beginner',
                evidenceType: 'demo',
                evidenceDescription: 'Demostraci√≥n de acceso seguro con biometr√≠a',
                xpReward: 40,
                status: 'locked',
                prerequisites: ['M0.R1.U1.L2'],
                icon: 'üìö',
                tags: ['security', 'biometrics', 'pin', 'auto-lock']
              }
            ],
            xpTotal: 150,
            estimatedTime: 9,
            status: 'available',
            completedLessons: 0,
            icon: '‚öôÔ∏è',
            color: '#3B82F6'
          },
          {
            id: 'M0.R1.U2',
            title: 'Backup responsable',
            description: 'Seed phrases y recuperaci√≥n segura',
            lessons: [
              {
                id: 'M0.R1.U2.L1',
                title: 'Anotar seed phrase de forma segura (simulador sin texto real)',
                objective: 'Ahora s√© respaldar mi seed phrase de forma completamente segura',
                description: 'M√©todos seguros para anotar y guardar seed phrases usando simulador',
                duration: 5,
                difficulty: 'beginner',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre mejores pr√°cticas de backup seguro',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M0.R1.U1.L3'],
                icon: 'üìà',
                tags: ['backup', 'seed', 'security', 'simulator']
              },
              {
                id: 'M0.R1.U2.L2',
                title: 'Probar recuperaci√≥n en dispositivo secundario (simulada)',
                objective: 'Ahora s√© recuperar mi wallet en caso de p√©rdida',
                description: 'Simulaci√≥n completa del proceso de recuperaci√≥n de wallet',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'quest-simulation',
                evidenceDescription: 'Completar simulaci√≥n de recuperaci√≥n exitosa',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M0.R1.U2.L1'],
                icon: '‚≠ê',
                tags: ['recovery', 'simulation', 'backup', 'secondary-device']
              },
              {
                id: 'M0.R1.U2.L3',
                title: 'Diferenciar seed vs. private key vs. password',
                objective: 'Ahora entiendo claramente los diferentes tipos de claves',
                description: 'Conceptos fundamentales: seed phrase, private key, password y sus diferencias',
                duration: 3,
                difficulty: 'beginner',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz conceptual sobre tipos de claves y sus usos',
                xpReward: 60,
                status: 'locked',
                prerequisites: ['M0.R1.U2.L2'],
                icon: 'üíé',
                tags: ['concepts', 'keys', 'security', 'fundamentals']
              }
            ],
            xpTotal: 210,
            estimatedTime: 12,
            status: 'locked',
            completedLessons: 0,
            icon: '‚¨ú',
            color: '#10B981'
          },
          {
            id: 'M0.R1.U3',
            title: 'Primeras firmas ‚ú™',
            description: 'Firmas EIP-191 y primeras transacciones on-chain',
            lessons: [
              {
                id: 'M0.R1.U3.L1',
                title: 'Firmar mensaje EIP-191 con verificaci√≥n local',
                objective: 'Ahora s√© firmar mensajes criptogr√°ficos de forma segura',
                description: 'Firmas criptogr√°ficas EIP-191 y proceso de verificaci√≥n local',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Demostraci√≥n de firma EIP-191 y verificaci√≥n',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M0.R1.U2.L3'],
                icon: 'üîµ',
                tags: ['signatures', 'eip191', 'crypto', 'verification']
              },
              {
                id: 'M0.R1.U3.L2',
                title: '‚ú™ Enviar 0.001 tETH en Base Sepolia; copiar tx hash',
                objective: 'Ahora s√© realizar transacciones reales on-chain',
                description: 'Primera transacci√≥n real en Base Sepolia testnet',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quest-onchain',
                evidenceDescription: 'Tx hash de transacci√≥n exitosa en Base Sepolia',
                xpReward: 150,
                status: 'locked',
                prerequisites: ['M0.R1.U3.L1'],
                isQuest: true,
                questType: 'onchain',
                questInstructions: 'Enviar exactamente 0.001 tETH a la direcci√≥n proporcionada en Base Sepolia',
                verificationSteps: [
                  'Copiar tx hash de la transacci√≥n',
                  'Verificar en BaseScan Sepolia',
                  'Confirmar recepci√≥n en wallet destino'
                ],
                icon: 'üî∫',
                tags: ['transaction', 'testnet', 'quest', 'base-sepolia']
              },
              {
                id: 'M0.R1.U3.L3',
                title: 'Agregar token de prueba por contrato (watchAsset)',
                objective: 'Ahora s√© agregar tokens custom a mi wallet',
                description: 'Uso de watchAsset para gesti√≥n de tokens ERC-20 personalizados',
                duration: 3,
                difficulty: 'beginner',
                evidenceType: 'screenshot',
                evidenceDescription: 'Screenshot del token de prueba agregado en wallet',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M0.R1.U3.L2'],
                icon: 'üîµ',
                tags: ['tokens', 'erc20', 'wallet', 'watchAsset']
              }
            ],
            xpTotal: 310,
            estimatedTime: 12,
            status: 'locked',
            completedLessons: 0,
            icon: '‚≠ê',
            color: '#F59E0B'
          }
        ],
        xpTotal: 670,
        estimatedTime: 33,
        status: 'available',
        completedUnits: 0,
        badgeId: 'wallet-master',
        badgeTitle: 'Wallet Master',
        badgeDescription: 'Maestro en configuraci√≥n y uso seguro de wallets',
        icon: 'üëõ',
        color: '#3B82F6',
        position: { x: 200, y: 120 }
      },
      {
        id: 'M0.R2',
        title: 'Seguridad del usuario',
        description: 'Higiene digital, detecci√≥n de phishing y sistemas de recuperaci√≥n',
        units: [
          {
            id: 'M0.R2.U1',
            title: 'Higiene digital',
            description: 'Reconocimiento de amenazas y mejores pr√°cticas de seguridad',
            lessons: [
              {
                id: 'M0.R2.U1.L1',
                title: 'Reconocer URLs falsas y extensiones maliciosas',
                objective: 'Ahora s√© identificar y evitar sitios web y extensiones falsas',
                description: 'T√©cnicas para identificar phishing, URLs maliciosas y extensiones de browser comprometidas',
                duration: 4,
                difficulty: 'beginner',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre identificaci√≥n de amenazas web',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M0.R1.U3.L3'],
                icon: 'üîµ',
                tags: ['phishing', 'urls', 'extensions', 'security']
              },
              {
                id: 'M0.R2.U1.L2',
                title: 'Activar 2FA en email y gestor de contrase√±as',
                objective: 'Ahora tengo configurada autenticaci√≥n de dos factores en mis cuentas cr√≠ticas',
                description: 'Configuraci√≥n de 2FA en email, gestor de contrase√±as y servicios cr√≠ticos',
                duration: 5,
                difficulty: 'beginner',
                evidenceType: 'screenshot',
                evidenceDescription: 'Screenshot de 2FA configurado en servicios principales',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M0.R2.U1.L1'],
                icon: '‚¨ú',
                tags: ['2fa', 'email', 'password-manager', 'authentication']
              },
              {
                id: 'M0.R2.U1.L3',
                title: 'Lista de verificaci√≥n antes de firmar (domain, method, value)',
                objective: 'Ahora tengo un checklist mental antes de firmar cualquier transacci√≥n',
                description: 'Checklist de seguridad: verificar dominio, m√©todo, valor antes de firmar',
                duration: 3,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Demostraci√≥n de aplicaci√≥n del checklist de seguridad',
                xpReward: 60,
                status: 'locked',
                prerequisites: ['M0.R2.U1.L2'],
                icon: '‚úÖ',
                tags: ['checklist', 'signing', 'verification', 'security']
              }
            ],
            xpTotal: 210,
            estimatedTime: 12,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîÑ',
            color: '#EF4444'
          },
          {
            id: 'M0.R2.U2',
            title: 'Phishing 101',
            description: 'Identificaci√≥n y prevenci√≥n de ataques de phishing espec√≠ficos de crypto',
            lessons: [
              {
                id: 'M0.R2.U2.L1',
                title: 'Identificar "airdrops" falsos y permisos setApprovalForAll',
                objective: 'Ahora s√© detectar airdrops falsos y permisos peligrosos',
                description: 'Reconocimiento de airdrops fraudulentos y permisos setApprovalForAll maliciosos',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre identificaci√≥n de airdrops y permisos falsos',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M0.R2.U1.L3'],
                icon: 'üíé',
                tags: ['airdrops', 'permissions', 'setApprovalForAll', 'phishing']
              },
              {
                id: 'M0.R2.U2.L2',
                title: 'Revocar approvals con revokers (simulador o herramienta real)',
                objective: 'Ahora s√© revocar permisos de tokens peligrosos',
                description: 'Uso de herramientas de revocaci√≥n de approvals para proteger tokens',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'quest-simulation',
                evidenceDescription: 'Simulaci√≥n de revocaci√≥n de approvals exitosa',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M0.R2.U2.L1'],
                icon: '‚ñ∂Ô∏è',
                tags: ['revoke', 'approvals', 'tools', 'protection']
              },
              {
                id: 'M0.R2.U2.L3',
                title: 'Entender "Sign-in with Ethereum" vs. firma ciega',
                objective: 'Ahora distingo entre autenticaci√≥n leg√≠tima y firmas peligrosas',
                description: 'Diferencias entre SIWE leg√≠timo y t√©cnicas de firma ciega maliciosas',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Demostraci√≥n de identificaci√≥n de tipos de firma',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M0.R2.U2.L2'],
                icon: 'üìö',
                tags: ['siwe', 'blind-signing', 'authentication', 'ethereum']
              }
            ],
            xpTotal: 240,
            estimatedTime: 13,
            status: 'locked',
            completedLessons: 0,
            icon: 'üéØ',
            color: '#F59E0B'
          },
          {
            id: 'M0.R2.U3',
            title: 'Recuperaci√≥n y guardianes',
            description: 'Sistemas de recuperaci√≥n social y planificaci√≥n de herencia digital',
            lessons: [
              {
                id: 'M0.R2.U3.L1',
                title: 'Configurar guardianes sociales (demo/sandbox)',
                objective: 'Ahora tengo configurado un sistema de guardianes sociales',
                description: 'Configuraci√≥n de sistema de recuperaci√≥n social con guardianes de confianza',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'quest-simulation',
                evidenceDescription: 'Configuraci√≥n completa de guardianes en ambiente de prueba',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M0.R2.U2.L3'],
                icon: 'üë•',
                tags: ['social-recovery', 'guardians', 'demo', 'backup']
              },
              {
                id: 'M0.R2.U3.L2',
                title: 'Simular p√©rdida de dispositivo y proceso de recuperaci√≥n',
                objective: 'Ahora s√© recuperar mi wallet en caso de p√©rdida total del dispositivo',
                description: 'Simulaci√≥n completa de p√©rdida de dispositivo y recuperaci√≥n de acceso',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'quest-simulation',
                evidenceDescription: 'Simulaci√≥n exitosa de recuperaci√≥n completa',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M0.R2.U3.L1'],
                icon: 'üì±',
                tags: ['device-loss', 'recovery', 'simulation', 'emergency']
              },
              {
                id: 'M0.R2.U3.L3',
                title: 'Definir plan de herencia digital b√°sico',
                objective: 'Ahora tengo un plan de herencia digital para mis activos crypto',
                description: 'Planificaci√≥n de herencia digital y acceso a activos en caso de fallecimiento',
                duration: 4,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Documento de plan de herencia digital',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M0.R2.U3.L2'],
                icon: 'üìö',
                tags: ['inheritance', 'digital-legacy', 'planning', 'assets']
              }
            ],
            xpTotal: 270,
            estimatedTime: 15,
            status: 'locked',
            completedLessons: 0,
            icon: 'üë•',
            color: '#8B5CF6'
          }
        ],
        xpTotal: 720,
        estimatedTime: 40,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'security-guardian',
        badgeTitle: 'Security Guardian',
        badgeDescription: 'Protector experto de activos digitales',
        icon: 'üõ°Ô∏è',
        color: '#EF4444',
        position: { x: 450, y: 180 }
      },
      {
        id: 'M0.R3',
        title: 'Redes & gas',
        description: 'Conceptos de gas, gesti√≥n de cuentas y quest de consolidaci√≥n',
        units: [
          {
            id: 'M0.R3.U1',
            title: 'Conceptos de gas',
            description: 'Base fee, priority fee, gas limit y estrategias de optimizaci√≥n',
            lessons: [
              {
                id: 'M0.R3.U1.L1',
                title: 'Base fee, priority fee, gas limit; estimaci√≥n manual',
                objective: 'Ahora entiendo completamente el sistema de gas de Ethereum',
                description: 'Conceptos fundamentales: base fee, priority fee, gas limit y c√°lculos manuales',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre c√°lculos de gas y componentes',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M0.R2.U3.L3'],
                icon: '‚ö°',
                tags: ['gas', 'base-fee', 'priority-fee', 'estimation']
              },
              {
                id: 'M0.R3.U1.L2',
                title: 'Leer costos en explorers y wallets',
                objective: 'Ahora s√© interpretar costos de gas en diferentes interfaces',
                description: 'Interpretaci√≥n de costos de gas en explorers de blockchain y wallets',
                duration: 3,
                difficulty: 'beginner',
                evidenceType: 'screenshot',
                evidenceDescription: 'Screenshot interpretando costos en explorer y wallet',
                xpReward: 60,
                status: 'locked',
                prerequisites: ['M0.R3.U1.L1'],
                icon: 'üìà',
                tags: ['explorers', 'wallets', 'costs', 'interpretation']
              },
              {
                id: 'M0.R3.U1.L3',
                title: 'Ahorro: horarios, L2, lotes',
                objective: 'Ahora s√© optimizar costos de gas usando diferentes estrategias',
                description: 'Estrategias de ahorro: horarios √≥ptimos, Layer 2, transacciones en lote',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Demostraci√≥n de estrategias de optimizaci√≥n de gas',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M0.R3.U1.L2'],
                icon: 'üíé',
                tags: ['optimization', 'l2', 'batching', 'savings']
              }
            ],
            xpTotal: 230,
            estimatedTime: 12,
            status: 'locked',
            completedLessons: 0,
            icon: '‚ö°',
            color: '#F59E0B'
          },
          {
            id: 'M0.R3.U2',
            title: 'Cuentas y nonces',
            description: 'EOA vs smart accounts, gesti√≥n de nonces y troubleshooting',
            lessons: [
              {
                id: 'M0.R3.U2.L1',
                title: 'EOA vs. smart account (AA) y nonces',
                objective: 'Ahora entiendo las diferencias entre EOA y Account Abstraction',
                description: 'Conceptos: EOA vs smart accounts, Account Abstraction y gesti√≥n de nonces',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre tipos de cuentas y nonces',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M0.R3.U1.L3'],
                icon: 'üîµ',
                tags: ['eoa', 'smart-account', 'account-abstraction', 'nonces']
              },
              {
                id: 'M0.R3.U2.L2',
                title: 'Reintentos y reemplazo de tx (nonce management)',
                objective: 'Ahora s√© manejar transacciones stuck y reemplazos',
                description: 'Gesti√≥n avanzada de nonces, reintentos de transacciones y reemplazos',
                duration: 4,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Demostraci√≥n de reemplazo de transacci√≥n stuck',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M0.R3.U2.L1'],
                icon: '‚≠ê',
                tags: ['retry', 'replacement', 'stuck-tx', 'nonce-management']
              },
              {
                id: 'M0.R3.U2.L3',
                title: 'Errores t√≠picos (out of gas, replacement underpriced)',
                objective: 'Ahora s√© diagnosticar y resolver errores comunes de transacciones',
                description: 'Identificaci√≥n y resoluci√≥n de errores: out of gas, replacement underpriced, etc.',
                duration: 3,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre diagn√≥stico y resoluci√≥n de errores',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M0.R3.U2.L2'],
                icon: '‚ö†Ô∏è',
                tags: ['errors', 'troubleshooting', 'out-of-gas', 'underpriced']
              }
            ],
            xpTotal: 260,
            estimatedTime: 12,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîµ',
            color: '#8B5CF6'
          },
          {
            id: 'M0.R3.U3',
            title: 'Quest de consolidaci√≥n ‚ú™',
            description: 'Pruebas pr√°cticas para consolidar conocimientos de redes y gas',
            lessons: [
              {
                id: 'M0.R3.U3.L1',
                title: '‚ú™ Enviar y recibir fondos entre dos wallets propias',
                objective: 'Ahora domino completamente las transferencias entre wallets',
                description: 'Quest pr√°ctico: gestionar transferencias entre m√∫ltiples wallets propias',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'quest-onchain',
                evidenceDescription: 'Tx hashes de transferencias exitosas entre wallets',
                xpReward: 120,
                status: 'locked',
                prerequisites: ['M0.R3.U2.L3'],
                isQuest: true,
                questType: 'onchain',
                questInstructions: 'Crear segunda wallet y realizar transferencias bidireccionales',
                verificationSteps: [
                  'Crear segunda wallet EOA',
                  'Transferir fondos wallet A ‚Üí wallet B',
                  'Transferir fondos wallet B ‚Üí wallet A',
                  'Copiar ambos tx hashes'
                ],
                icon: '‚ÜîÔ∏è',
                tags: ['quest', 'transfer', 'multiple-wallets', 'bidirectional']
              },
              {
                id: 'M0.R3.U3.L2',
                title: '‚ú™ Interactuar con faucet Base Sepolia con wallet nueva',
                objective: 'Ahora s√© obtener fondos de testnet y gestionar wallets nuevas',
                description: 'Quest: usar faucet de Base Sepolia con wallet reci√©n creada',
                duration: 4,
                difficulty: 'beginner',
                evidenceType: 'quest-onchain',
                evidenceDescription: 'Tx hash de fondos recibidos desde faucet',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M0.R3.U3.L1'],
                isQuest: true,
                questType: 'onchain',
                questInstructions: 'Usar faucet Base Sepolia para obtener tETH en wallet nueva',
                verificationSteps: [
                  'Acceder a faucet Base Sepolia',
                  'Solicitar tETH para wallet nueva',
                  'Verificar recepci√≥n en wallet',
                  'Copiar tx hash del faucet'
                ],
                icon: 'üíß',
                tags: ['quest', 'faucet', 'testnet', 'base-sepolia']
              },
              {
                id: 'M0.R3.U3.L3',
                title: 'Quiz + checklist "listo para claim"',
                objective: 'Ahora estoy completamente preparado para hacer claims seguros',
                description: 'Evaluaci√≥n final: quiz y checklist de preparaci√≥n para claims reales',
                duration: 3,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz final con score ‚â•80% y checklist completado',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M0.R3.U3.L2'],
                icon: '‚úÖ',
                tags: ['quiz', 'checklist', 'ready', 'claims']
              }
            ],
            xpTotal: 300,
            estimatedTime: 13,
            status: 'locked',
            completedLessons: 0,
            icon: '‚≠ê',
            color: '#10B981'
          }
        ],
        xpTotal: 790,
        estimatedTime: 37,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'gas-optimizer',
        badgeTitle: 'Gas Optimizer',
        badgeDescription: 'Experto en optimizaci√≥n de transacciones y gesti√≥n de gas',
        icon: '‚ö°',
        color: '#F59E0B',
        position: { x: 700, y: 120 }
      }
    ],
    xpTotal: 2180,
    estimatedTime: 110, // ~1.8 horas
    status: 'available',
    completedBranches: 0,
    categoryId: 'fundamentos-onboarding',
    categoryTitle: 'Fundamentos & Onboarding',
    depth: 'high',
    masterBadgeId: 'onboarding-champion',
    masterBadgeTitle: 'Onboarding Champion',
    masterBadgeDescription: 'Complet√≥ el proceso completo de onboarding seguro con dominio total',
    icon: 'üéØ',
    color: '#3B82F6',
    position: { x: 150 + (0 % 6) * 200, y: 80 + Math.floor(0 / 6) * 200 }, // M0: fila 1, pos 1
    hasQuests: true,
    questsCount: 5,
    badgesAvailable: 4
  },

  // ===== M1: FUNDAMENTOS BLOCKCHAIN =====
  {
    id: 'M1',
    title: 'Fundamentos Blockchain',
    description: 'Datos, bloques, consenso y finalidad para leer explorers y razonar sobre seguridad',
    objective: 'Entender arquitectura blockchain para tomar decisiones informadas sobre seguridad',
    branches: [
      {
        id: 'M1.R1',
        title: 'Datos y bloques',
        description: 'Criptograf√≠a pr√°ctica, estructura de bloques y conceptos de finalidad',
        units: [
          {
            id: 'M1.R1.U1',
            title: 'Criptograf√≠a pr√°ctica',
            description: 'Hashes, √°rboles de Merkle y firmas digitales con ejemplos pr√°cticos',
            lessons: [
              {
                id: 'M1.R1.U1.L1',
                title: 'Hashes (SHA-256/Keccak) con ejemplos',
                objective: 'Ahora entiendo c√≥mo funcionan las funciones hash criptogr√°ficas',
                description: 'Funciones hash SHA-256 y Keccak-256 con ejemplos pr√°cticos y propiedades',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Demostraci√≥n de c√°lculo de hashes con herramientas online',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M0'],
                icon: '#Ô∏è‚É£',
                tags: ['cryptography', 'hashes', 'sha256', 'keccak']
              },
              {
                id: 'M1.R1.U1.L2',
                title: '√Årboles de Merkle y verificaciones',
                objective: 'Ahora s√© c√≥mo funcionan los √°rboles de Merkle y sus verificaciones',
                description: 'Construcci√≥n y verificaci√≥n de √°rboles de Merkle para integridad de datos',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre construcci√≥n y verificaci√≥n de √°rboles Merkle',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M1.R1.U1.L1'],
                icon: 'üå≤',
                tags: ['merkle-trees', 'verification', 'data-integrity', 'proofs']
              },
              {
                id: 'M1.R1.U1.L3',
                title: 'Firmas ECDSA/ed25519 (idea y uso)',
                objective: 'Ahora entiendo los sistemas de firma digital y sus aplicaciones',
                description: 'Algoritmos ECDSA y ed25519: conceptos, generaci√≥n y verificaci√≥n de firmas',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Demostraci√≥n de generaci√≥n y verificaci√≥n de firmas',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M1.R1.U1.L2'],
                icon: '‚úèÔ∏è',
                tags: ['digital-signatures', 'ecdsa', 'ed25519', 'verification']
              }
            ],
            xpTotal: 255,
            estimatedTime: 13,
            status: 'locked',
            completedLessons: 0,
            icon: 'üìö',
            color: '#059669'
          },
          // Continuar con U2: Bloques & estado y U3: Finalidad...
          {            id: 'M1.R1.U2',
            title: 'Bloques & estado',
            description: 'Estructura de bloques, transacciones y gesti√≥n del estado',
            lessons: [
              {
                id: 'M1.R1.U2.L1',
                title: 'Estructura de un bloque (header, txs, receipts)',
                objective: 'Ahora entiendo completamente la anatom√≠a de un bloque blockchain',
                description: 'Desglose completo: block header, lista de transacciones, receipts y logs',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Exploraci√≥n guiada de un bloque real en BaseScan',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M1.R1.U1.L3'],
                icon: 'üì¶',
                tags: ['blocks', 'structure', 'headers', 'transactions']
              },
              {
                id: 'M1.R1.U2.L2',
                title: 'Estado global y cuentas (balance, nonce, storage)',
                objective: 'Ahora comprendo el estado global de Ethereum y sus componentes',
                description: 'Trie de estado: balances, nonces, c√≥digo de contratos y storage',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz avanzado sobre gesti√≥n de estado y tries',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M1.R1.U2.L1'],
                icon: 'üìÇ',
                tags: ['state', 'accounts', 'storage', 'trie']
              },
              {
                id: 'M1.R1.U2.L3',
                title: 'Transacciones y logs/eventos',
                objective: 'Ahora s√© interpretar transacciones completas y sus eventos',
                description: 'Estructura de transacciones, decodificaci√≥n de input data, logs y eventos',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Decodificar una transacci√≥n compleja con eventos',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M1.R1.U2.L2'],
                icon: 'üìã',
                tags: ['transactions', 'logs', 'events', 'decoding']
              }
            ],
            xpTotal: 275,
            estimatedTime: 15,
            status: 'locked',
            completedLessons: 0,
            icon: 'üì¶',
            color: '#10B981'
          },
          {
            id: 'M1.R1.U3',
            title: 'Finalidad y reorganizaciones',
            description: 'Confirmaciones, finalidad probabil√≠stica y manejo de reorgs',
            lessons: [
              {
                id: 'M1.R1.U3.L1',
                title: 'Confirmaciones y finalidad probabil√≠stica',
                objective: 'Ahora entiendo cu√°ndo una transacci√≥n es realmente final',
                description: 'Concepto de confirmaciones, finalidad probabil√≠stica vs determin√≠stica',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre finalidad y n√∫mero de confirmaciones seguras',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M1.R1.U2.L3'],
                icon: '‚úÖ',
                tags: ['finality', 'confirmations', 'probabilistic', 'security']
              },
              {
                id: 'M1.R1.U3.L2',
                title: 'Reorganizaciones: cu√°ndo y por qu√©',
                objective: 'Ahora comprendo los riesgos de reorganizaciones blockchain',
                description: 'Causas de reorgs, detecci√≥n, impacto en transacciones y mitigaci√≥n',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'An√°lisis de casos reales de reorganizaciones',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M1.R1.U3.L1'],
                icon: 'üîÄ',
                tags: ['reorgs', 'chain-splits', 'risks', 'mitigation']
              },
              {
                id: 'M1.R1.U3.L3',
                title: '‚ú™ Monitorear confirmaciones de una tx cr√≠tica',
                objective: 'Ahora s√© monitorear transacciones cr√≠ticas hasta finalidad',
                description: 'Quest: monitorear una transacci√≥n importante hasta confirmaci√≥n segura',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'quest-simulation',
                evidenceDescription: 'Demostraci√≥n de monitoreo completo con herramientas',
                xpReward: 120,
                status: 'locked',
                prerequisites: ['M1.R1.U3.L2'],
                isQuest: true,
                questType: 'simulation',
                questInstructions: 'Monitorear transacci√≥n desde mempool hasta 12 confirmaciones',
                verificationSteps: [
                  'Identificar tx en mempool',
                  'Seguir inclusi√≥n en bloque',
                  'Contar confirmaciones',
                  'Verificar finalidad'
                ],
                icon: 'üîµ',
                tags: ['quest', 'monitoring', 'confirmations', 'critical-tx']
              }
            ],
            xpTotal: 295,
            estimatedTime: 15,
            status: 'locked',
            completedLessons: 0,
            icon: '‚è±Ô∏è',
            color: '#F59E0B'
          }
        ],
        xpTotal: 720,
        estimatedTime: 36,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'blockchain-foundation',
        badgeTitle: 'Blockchain Foundation',
        badgeDescription: 'Dominio s√≥lido de fundamentos blockchain',
        icon: 'üß±',
        color: '#059669',
        position: { x: 350, y: 120 }
      },
      {
        id: 'M1.R2',
        title: 'Consenso',
        description: 'Proof of Work, Proof of Stake y teor√≠a de juegos del consenso',
        units: [
          {
            id: 'M1.R2.U1',
            title: 'Proof of Work',
            description: 'Mining, dificultad y econom√≠a del PoW',
            lessons: [
              {
                id: 'M1.R2.U1.L1',
                title: 'Mining y ajuste de dificultad',
                objective: 'Ahora entiendo el proceso de mining y ajuste din√°mico de dificultad',
                description: 'Proceso de mining, target de dificultad, ajustes y hashrate',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Simulaci√≥n de proceso de mining con ajuste de dificultad',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M1.R1.U3.L3'],
                icon: '‚ñ∂Ô∏è',
                tags: ['mining', 'difficulty', 'pow', 'hashrate']
              },
              {
                id: 'M1.R2.U1.L2',
                title: 'Incentivos econ√≥micos y recompensas',
                objective: 'Ahora comprendo la econom√≠a detr√°s del Proof of Work',
                description: 'Block rewards, fees, halving, econom√≠a de mineros',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre econom√≠a de mining y recompensas',
                xpReward: 75,
                status: 'locked',
                prerequisites: ['M1.R2.U1.L1'],
                icon: 'üíé',
                tags: ['economics', 'rewards', 'halving', 'incentives']
              },
              {
                id: 'M1.R2.U1.L3',
                title: 'Ataques 51% y costos',
                objective: 'Ahora entiendo los vectores de ataque al PoW y sus costos',
                description: 'An√°lisis de ataques 51%, double spending, costos de ataque',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'C√°lculo de costos para ataque 51% en diferentes chains',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M1.R2.U1.L2'],
                icon: 'üíé',
                tags: ['attacks', '51-percent', 'security', 'costs']
              }
            ],
            xpTotal: 255,
            estimatedTime: 14,
            status: 'locked',
            completedLessons: 0,
            icon: '‚ñ∂Ô∏è',
            color: '#F97316'
          },
          {
            id: 'M1.R2.U2',
            title: 'Proof of Stake',
            description: 'Validadores, slashing y econom√≠a del PoS',
            lessons: [
              {
                id: 'M1.R2.U2.L1',
                title: 'Validadores y staking (32 ETH)',
                objective: 'Ahora entiendo el sistema de validadores y staking en Ethereum',
                description: 'Requisitos para validadores, proceso de staking, rewards',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre validadores y mec√°nicas de staking',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M1.R2.U1.L3'],
                icon: 'üéØ',
                tags: ['validators', 'staking', 'pos', 'ethereum']
              },
              {
                id: 'M1.R2.U2.L2',
                title: 'Slashing y penalizaciones',
                objective: 'Ahora comprendo los mecanismos de penalizaci√≥n en PoS',
                description: 'Condiciones de slashing, inactivity leak, penalizaciones',
                duration: 4,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'An√°lisis de casos reales de slashing',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M1.R2.U2.L1'],
                icon: '‚ö°',
                tags: ['slashing', 'penalties', 'security', 'validators']
              },
              {
                id: 'M1.R2.U2.L3',
                title: 'Comparaci√≥n PoW vs PoS (trade-offs)',
                objective: 'Ahora puedo evaluar pros y contras de PoW vs PoS',
                description: 'An√°lisis comparativo: seguridad, descentralizaci√≥n, eficiencia',
                duration: 3,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Ensayo comparativo sobre trade-offs PoW/PoS',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M1.R2.U2.L2'],
                icon: 'üî∫',
                tags: ['comparison', 'tradeoffs', 'pow-vs-pos', 'analysis']
              }
            ],
            xpTotal: 245,
            estimatedTime: 12,
            status: 'locked',
            completedLessons: 0,
            icon: 'üéØ',
            color: '#8B5CF6'
          },
          {
            id: 'M1.R2.U3',
            title: 'Teor√≠a de juegos',
            description: 'Incentivos, equilibrios y comportamiento racional',
            lessons: [
              {
                id: 'M1.R2.U3.L1',
                title: 'Incentivos y comportamiento racional',
                objective: 'Ahora entiendo la teor√≠a de juegos aplicada a blockchain',
                description: 'Teor√≠a de incentivos, equilibrio de Nash, racionalidad econ√≥mica',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre teor√≠a de juegos y incentivos',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M1.R2.U2.L3'],
                icon: '‚óã',
                tags: ['game-theory', 'incentives', 'nash-equilibrium', 'rationality']
              },
              {
                id: 'M1.R2.U3.L2',
                title: 'MEV y front-running b√°sico',
                objective: 'Ahora comprendo MEV y sus implicaciones',
                description: 'Maximal Extractable Value, front-running, sandwich attacks',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Identificaci√≥n de MEV en transacciones reales',
                xpReward: 110,
                status: 'locked',
                prerequisites: ['M1.R2.U3.L1'],
                icon: 'ü•™',
                tags: ['mev', 'front-running', 'sandwich', 'extraction']
              },
              {
                id: 'M1.R2.U3.L3',
                title: '‚ú™ Detectar MEV en una transacci√≥n propia',
                objective: 'Ahora s√© detectar y prevenir MEV en mis transacciones',
                description: 'Quest: analizar transacciones propias para detectar MEV',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'quest-simulation',
                evidenceDescription: 'Reporte de an√°lisis MEV en transacci√≥n propia',
                xpReward: 130,
                status: 'locked',
                prerequisites: ['M1.R2.U3.L2'],
                isQuest: true,
                questType: 'simulation',
                questInstructions: 'Analizar transacci√≥n swap para detectar MEV potencial',
                verificationSteps: [
                  'Identificar transacci√≥n de swap',
                  'Analizar mempool antes/despu√©s',
                  'Detectar sandwich o front-running',
                  'Calcular MEV extra√≠do'
                ],
                icon: 'üîµ',
                tags: ['quest', 'mev-detection', 'analysis', 'protection']
              }
            ],
            xpTotal: 335,
            estimatedTime: 16,
            status: 'locked',
            completedLessons: 0,
            icon: '‚ñ†',
            color: '#EC4899'
          }
        ],
        xpTotal: 835,
        estimatedTime: 42,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'consensus-master',
        badgeTitle: 'Consensus Master',
        badgeDescription: 'Experto en mecanismos de consenso blockchain',
        icon: 'ü§ù',
        color: '#8B5CF6',
        position: { x: 500, y: 200 }
      },
      {
        id: 'M1.R3',
        title: 'Herramientas',
        description: 'Explorers, APIs y herramientas de an√°lisis blockchain',
        units: [
          {
            id: 'M1.R3.U1',
            title: 'Explorers avanzado',
            description: 'Uso profesional de explorers para an√°lisis profundo',
            lessons: [
              {
                id: 'M1.R3.U1.L1',
                title: 'Leer contratos verificados y ABIs',
                objective: 'Ahora s√© navegar y entender contratos verificados',
                description: 'Lectura de c√≥digo fuente, ABIs, funciones read/write en explorers',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Navegaci√≥n guiada de contrato complejo en BaseScan',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M1.R2.U3.L3'],
                icon: 'üìñ',
                tags: ['explorers', 'contracts', 'abi', 'verification']
              },
              {
                id: 'M1.R3.U1.L2',
                title: 'Traces, logs internos y debug',
                objective: 'Ahora puedo hacer debugging profundo de transacciones',
                description: 'Internal transactions, traces, logs, revert reasons',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Debug de transacci√≥n fallida con trace analysis',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M1.R3.U1.L1'],
                icon: '‚óë',
                tags: ['traces', 'debugging', 'internal-tx', 'logs']
              },
              {
                id: 'M1.R3.U1.L3',
                title: 'Analytics: holders, volumen, actividad',
                objective: 'Ahora s√© analizar m√©tricas on-chain de tokens y contratos',
                description: 'An√°lisis de holders, volumen, actividad, distribuci√≥n',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Reporte anal√≠tico de token usando explorer',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M1.R3.U1.L2'],
                icon: 'üìà',
                tags: ['analytics', 'holders', 'volume', 'activity']
              }
            ],
            xpTotal: 265,
            estimatedTime: 15,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîµ',
            color: '#06B6D4'
          },
          {
            id: 'M1.R3.U2',
            title: 'APIs y datos',
            description: 'Acceso program√°tico a datos blockchain',
            lessons: [
              {
                id: 'M1.R3.U2.L1',
                title: 'JSON-RPC b√°sico (eth_call, eth_getBalance)',
                objective: 'Ahora s√© hacer llamadas RPC b√°sicas a nodos',
                description: 'Introducci√≥n a JSON-RPC: consultas de balance, estado, llamadas',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Realizar llamadas RPC b√°sicas con curl/postman',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M1.R3.U1.L3'],
                icon: 'üîå',
                tags: ['json-rpc', 'api', 'eth-call', 'balance']
              },
              {
                id: 'M1.R3.U2.L2',
                title: 'Eventos y filtros',
                objective: 'Ahora puedo filtrar y monitorear eventos on-chain',
                description: 'Filtrado de eventos, topics, monitoreo en tiempo real',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Crear filtro de eventos y monitorear en tiempo real',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M1.R3.U2.L1'],
                icon: 'üéØ',
                tags: ['events', 'filters', 'monitoring', 'realtime']
              },
              {
                id: 'M1.R3.U2.L3',
                title: 'Servicios: Alchemy, Infura, QuickNode',
                objective: 'Ahora conozco los principales proveedores de nodos',
                description: 'Comparaci√≥n de servicios RPC, features, l√≠mites, pricing',
                duration: 3,
                difficulty: 'beginner',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre servicios RPC y sus caracter√≠sticas',
                xpReward: 60,
                status: 'locked',
                prerequisites: ['M1.R3.U2.L2'],
                icon: '‚òÅÔ∏è',
                tags: ['alchemy', 'infura', 'quicknode', 'rpc-providers']
              }
            ],
            xpTotal: 235,
            estimatedTime: 13,
            status: 'locked',
            completedLessons: 0,
            icon: 'üíé',
            color: '#10B981'
          },
          {
            id: 'M1.R3.U3',
            title: 'Quest integrador ‚ú™',
            description: 'Proyecto final integrando todos los conocimientos',
            lessons: [
              {
                id: 'M1.R3.U3.L1',
                title: '‚ú™ Crear dashboard personal de actividad',
                objective: 'Ahora puedo crear herramientas de an√°lisis propias',
                description: 'Quest: crear dashboard mostrando actividad de wallet propia',
                duration: 8,
                difficulty: 'advanced',
                evidenceType: 'quest-demo',
                evidenceDescription: 'Dashboard funcional con al menos 5 m√©tricas',
                xpReward: 150,
                status: 'locked',
                prerequisites: ['M1.R3.U2.L3'],
                isQuest: true,
                questType: 'demo',
                questInstructions: 'Crear dashboard con balance, txs, tokens, NFTs, gas gastado',
                verificationSteps: [
                  'Conectar a RPC provider',
                  'Obtener datos de wallet',
                  'Procesar y visualizar m√©tricas',
                  'Deploy o demo funcional'
                ],
                icon: 'üî∫',
                tags: ['quest', 'dashboard', 'integration', 'project']
              },
              {
                id: 'M1.R3.U3.L2',
                title: '‚ú™ An√°lisis forense de hack/exploit',
                objective: 'Ahora puedo analizar y entender exploits on-chain',
                description: 'Quest: analizar un hack real y explicar el vector de ataque',
                duration: 7,
                difficulty: 'advanced',
                evidenceType: 'quest-demo',
                evidenceDescription: 'Reporte forense completo de exploit real',
                xpReward: 140,
                status: 'locked',
                prerequisites: ['M1.R3.U3.L1'],
                isQuest: true,
                questType: 'demo',
                questInstructions: 'Elegir hack reciente, analizar transacciones, explicar exploit',
                verificationSteps: [
                  'Seleccionar incidente',
                  'Trazar transacciones',
                  'Identificar vulnerabilidad',
                  'Documentar hallazgos'
                ],
                icon: 'üî¨',
                tags: ['quest', 'forensics', 'exploit', 'analysis']
              },
              {
                id: 'M1.R3.U3.L3',
                title: 'Certificado Fundamentos Blockchain',
                objective: 'Certificaci√≥n oficial de dominio de fundamentos',
                description: 'Evaluaci√≥n final comprehensiva del m√≥dulo',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Examen final con score ‚â•85% para certificaci√≥n',
                xpReward: 200,
                status: 'locked',
                prerequisites: ['M1.R3.U3.L2'],
                icon: 'üèÜ',
                tags: ['certification', 'exam', 'final', 'badge']
              }
            ],
            xpTotal: 490,
            estimatedTime: 20,
            status: 'locked',
            completedLessons: 0,
            icon: '‚≠ê',
            color: '#F59E0B'
          }
        ],
        xpTotal: 990,
        estimatedTime: 48,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'tools-expert',
        badgeTitle: 'Blockchain Tools Expert',
        badgeDescription: 'Maestro en herramientas y an√°lisis blockchain',
        icon: 'üõ†Ô∏è',
        color: '#06B6D4',
        position: { x: 650, y: 250 }
      }
    ],
    xpTotal: 2545,  // Actualizado con todas las ramas completas
    estimatedTime: 126, // ~2.1 horas
    status: 'locked',
    completedBranches: 0,
    categoryId: 'fundamentos-onboarding',
    categoryTitle: 'Fundamentos & Onboarding',
    depth: 'high',
    prerequisites: ['M0'],
    masterBadgeId: 'blockchain-expert',
    masterBadgeTitle: 'Blockchain Expert',
    masterBadgeDescription: 'Experto en fundamentos y arquitectura blockchain',
    icon: '‚õìÔ∏è',
    color: '#059669',
    position: { x: 150 + (1 % 6) * 200, y: 80 + Math.floor(1 / 6) * 200 }, // M1: fila 1, pos 2
    hasQuests: true,
    questsCount: 3,
    badgesAvailable: 4
  },

  // ===== M2: SMART CONTRACTS & DAPPS =====
  {
    id: 'M2',
    title: 'Smart Contracts & DApps',
    description: 'EVM, Solidity b√°sico, interacci√≥n con contratos y patrones de DApps',
    objective: 'Dominar interacci√≥n con smart contracts y arquitectura de aplicaciones descentralizadas',
    branches: [
      {
        id: 'M2.R1',
        title: 'EVM & Solidity',
        description: 'M√°quina virtual de Ethereum y fundamentos de Solidity',
        units: [
          {
            id: 'M2.R1.U1',
            title: 'EVM b√°sico',
            description: 'Arquitectura de la EVM, opcodes y gas',
            lessons: [
              {
                id: 'M2.R1.U1.L1',
                title: 'Stack, memory, storage: modelo de ejecuci√≥n',
                objective: 'Ahora entiendo la arquitectura de ejecuci√≥n de la EVM',
                description: 'Stack machine, memory vol√°til, storage persistente, calldata',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre arquitectura EVM y modelo de ejecuci√≥n',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M1'],
                icon: 'üñ•Ô∏è',
                tags: ['evm', 'stack', 'memory', 'storage']
              },
              {
                id: 'M2.R1.U1.L2',
                title: 'Opcodes principales y costos de gas',
                objective: 'Ahora conozco los opcodes m√°s importantes y sus costos',
                description: 'SSTORE, SLOAD, CALL, CREATE, costos de gas por operaci√≥n',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'An√°lisis de opcodes en transacci√≥n real',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M2.R1.U1.L1'],
                icon: '‚öôÔ∏è',
                tags: ['opcodes', 'gas-costs', 'optimization', 'evm']
              },
              {
                id: 'M2.R1.U1.L3',
                title: 'ABI encoding/decoding',
                objective: 'Ahora s√© codificar y decodificar datos ABI',
                description: 'Application Binary Interface, encoding de par√°metros, function selectors',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Codificar/decodificar llamada a funci√≥n manualmente',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M2.R1.U1.L2'],
                icon: 'üî§',
                tags: ['abi', 'encoding', 'decoding', 'interfaces']
              }
            ],
            xpTotal: 280,
            estimatedTime: 15,
            status: 'locked',
            completedLessons: 0,
            icon: '‚¨ú',
            color: '#059669'
          },
          {
            id: 'M2.R1.U2',
            title: 'Solidity fundamentals',
            description: 'Sintaxis b√°sica, tipos de datos y control de flujo',
            lessons: [
              {
                id: 'M2.R1.U2.L1',
                title: 'Variables, tipos y visibilidad',
                objective: 'Ahora domino los tipos de datos y modificadores de Solidity',
                description: 'uint, address, mapping, arrays, public/private/internal/external',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre tipos de datos y visibilidad',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M2.R1.U1.L3'],
                icon: 'üìà',
                tags: ['solidity', 'variables', 'types', 'visibility']
              },
              {
                id: 'M2.R1.U2.L2',
                title: 'Functions, modifiers y events',
                objective: 'Ahora s√© escribir funciones con modifiers y emitir eventos',
                description: 'Funciones, modificadores de acceso, eventos y logs',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Escribir contrato simple con funciones y eventos',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M2.R1.U2.L1'],
                icon: '‚ö°',
                tags: ['functions', 'modifiers', 'events', 'logs']
              },
              {
                id: 'M2.R1.U2.L3',
                title: '‚ú™ Deploy contrato "Hello World" en testnet',
                objective: 'Ahora puedo deployar mi primer smart contract',
                description: 'Quest: escribir y deployar contrato simple en Base Sepolia',
                duration: 7,
                difficulty: 'intermediate',
                evidenceType: 'quest-onchain',
                evidenceDescription: 'Direcci√≥n del contrato deployado en Base Sepolia',
                xpReward: 150,
                status: 'locked',
                prerequisites: ['M2.R1.U2.L2'],
                isQuest: true,
                questType: 'onchain',
                questInstructions: 'Deployar contrato HelloWorld con funci√≥n getMessage',
                verificationSteps: [
                  'Escribir contrato HelloWorld.sol',
                  'Compilar con Solidity compiler',
                  'Deploy en Base Sepolia',
                  'Verificar en BaseScan'
                ],
                icon: 'üî∫',
                tags: ['quest', 'deploy', 'hello-world', 'testnet']
              }
            ],
            xpTotal: 320,
            estimatedTime: 18,
            status: 'locked',
            completedLessons: 0,
            icon: 'üìà',
            color: '#10B981'
          },
          {
            id: 'M2.R1.U3',
            title: 'Patrones y seguridad',
            description: 'Patrones comunes y consideraciones de seguridad b√°sicas',
            lessons: [
              {
                id: 'M2.R1.U3.L1',
                title: 'Reentrancy y checks-effects-interactions',
                objective: 'Ahora entiendo y prevengo ataques de reentrancy',
                description: 'Patr√≥n CEI, mutex/reentrancy guards, ejemplos de exploits',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Identificar y corregir vulnerabilidad de reentrancy',
                xpReward: 110,
                status: 'locked',
                prerequisites: ['M2.R1.U2.L3'],
                icon: '‚¨ú',
                tags: ['reentrancy', 'cei-pattern', 'security', 'guards']
              },
              {
                id: 'M2.R1.U3.L2',
                title: 'Overflow/underflow y SafeMath',
                objective: 'Ahora s√© prevenir errores aritm√©ticos en contratos',
                description: 'Integer overflow/underflow, SafeMath, Solidity 0.8+',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre prevenci√≥n de overflow/underflow',
                xpReward: 75,
                status: 'locked',
                prerequisites: ['M2.R1.U3.L1'],
                icon: 'üîµ',
                tags: ['overflow', 'underflow', 'safemath', 'arithmetic']
              },
              {
                id: 'M2.R1.U3.L3',
                title: 'Access control y ownership',
                objective: 'Ahora implemento control de acceso seguro',
                description: 'Ownable pattern, role-based access, OpenZeppelin',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar contrato con roles y permisos',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M2.R1.U3.L2'],
                icon: 'üëë',
                tags: ['access-control', 'ownable', 'roles', 'openzeppelin']
              }
            ],
            xpTotal: 270,
            estimatedTime: 15,
            status: 'locked',
            completedLessons: 0,
            icon: 'üõ°Ô∏è',
            color: '#EF4444'
          }
        ],
        xpTotal: 870,
        estimatedTime: 48,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'solidity-developer',
        badgeTitle: 'Solidity Developer',
        badgeDescription: 'Desarrollador competente en Solidity y EVM',
        icon: '‚ö°',
        color: '#059669',
        position: { x: 200, y: 350 }
      },
      {
        id: 'M2.R2',
        title: 'Interacci√≥n con contratos',
        description: 'Web3.js, Ethers.js y herramientas de desarrollo',
        units: [
          {
            id: 'M2.R2.U1',
            title: 'Librer√≠as Web3',
            description: 'Web3.js y Ethers.js para interacci√≥n con contratos',
            lessons: [
              {
                id: 'M2.R2.U1.L1',
                title: 'Conectar wallet y leer estado',
                objective: 'Ahora puedo conectar wallets y leer datos de contratos',
                description: 'Provider connection, wallet connection, read functions',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Demo de conexi√≥n y lectura de contrato',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M2.R1.U3.L3'],
                icon: 'üîå',
                tags: ['web3', 'ethers', 'connection', 'read']
              },
              {
                id: 'M2.R2.U1.L2',
                title: 'Enviar transacciones y estimar gas',
                objective: 'Ahora s√© enviar transacciones optimizadas',
                description: 'Write functions, gas estimation, transaction management',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Enviar transacci√≥n con estimaci√≥n de gas √≥ptima',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M2.R2.U1.L1'],
                icon: 'üì§',
                tags: ['transactions', 'gas-estimation', 'write', 'optimization']
              },
              {
                id: 'M2.R2.U1.L3',
                title: 'Escuchar eventos y filtros',
                objective: 'Ahora puedo monitorear eventos de contratos en tiempo real',
                description: 'Event listeners, filters, real-time updates, WebSockets',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar listener de eventos con filtros',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M2.R2.U1.L2'],
                icon: 'üì∂',
                tags: ['events', 'listeners', 'filters', 'websockets']
              }
            ],
            xpTotal: 270,
            estimatedTime: 16,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîµ',
            color: '#3B82F6'
          },
          {
            id: 'M2.R2.U2',
            title: 'Herramientas de desarrollo',
            description: 'Hardhat, Foundry y testing de contratos',
            lessons: [
              {
                id: 'M2.R2.U2.L1',
                title: 'Hardhat: compile, test, deploy',
                objective: 'Ahora domino el workflow de desarrollo con Hardhat',
                description: 'Setup Hardhat, compilaci√≥n, testing, deployment scripts',
                duration: 7,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Proyecto Hardhat con tests y deploy script',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M2.R2.U1.L3'],
                icon: '‚öíÔ∏è',
                tags: ['hardhat', 'testing', 'deployment', 'development']
              },
              {
                id: 'M2.R2.U2.L2',
                title: 'Foundry: forge test y cast',
                objective: 'Ahora uso Foundry para testing avanzado',
                description: 'Forge para testing, cast para interacci√≥n, fuzzing',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Suite de tests con Foundry incluyendo fuzzing',
                xpReward: 110,
                status: 'locked',
                prerequisites: ['M2.R2.U2.L1'],
                icon: '‚≠ê',
                tags: ['foundry', 'forge', 'cast', 'fuzzing']
              },
              {
                id: 'M2.R2.U2.L3',
                title: 'Debugging con Tenderly',
                objective: 'Ahora puedo debuggear transacciones complejas',
                description: 'Transaction debugging, simulation, fork testing',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Debug de transacci√≥n fallida con Tenderly',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M2.R2.U2.L2'],
                icon: '‚óë',
                tags: ['tenderly', 'debugging', 'simulation', 'fork']
              }
            ],
            xpTotal: 290,
            estimatedTime: 17,
            status: 'locked',
            completedLessons: 0,
            icon: 'üõ†Ô∏è',
            color: '#F59E0B'
          },
          {
            id: 'M2.R2.U3',
            title: 'Integraci√≥n frontend',
            description: 'Construcci√≥n de DApps con React y Web3',
            lessons: [
              {
                id: 'M2.R2.U3.L1',
                title: 'React + Web3Modal',
                objective: 'Ahora puedo construir interfaces Web3 con React',
                description: 'Integraci√≥n React, Web3Modal, wallet connection flow',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'DApp React con conexi√≥n multi-wallet',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M2.R2.U2.L3'],
                icon: '‚öõÔ∏è',
                tags: ['react', 'web3modal', 'frontend', 'integration']
              },
              {
                id: 'M2.R2.U3.L2',
                title: 'Estado y actualizaciones en tiempo real',
                objective: 'Ahora manejo estado Web3 reactivo',
                description: 'State management, real-time updates, optimistic UI',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'UI reactiva con actualizaciones en tiempo real',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M2.R2.U3.L1'],
                icon: '‚≠ê',
                tags: ['state', 'realtime', 'optimistic-ui', 'updates']
              },
              {
                id: 'M2.R2.U3.L3',
                title: '‚ú™ Build mini-DApp completa',
                objective: 'Ahora puedo construir DApps funcionales end-to-end',
                description: 'Quest: construir DApp completa con smart contract y frontend',
                duration: 10,
                difficulty: 'advanced',
                evidenceType: 'quest-demo',
                evidenceDescription: 'DApp deployada y funcional con al menos 3 features',
                xpReward: 200,
                status: 'locked',
                prerequisites: ['M2.R2.U3.L2'],
                isQuest: true,
                questType: 'demo',
                questInstructions: 'Crear DApp de votaci√≥n, NFT minting o token swap',
                verificationSteps: [
                  'Deploy smart contract',
                  'Construir frontend React',
                  'Integrar Web3 connection',
                  'Deploy en Vercel/Netlify'
                ],
                icon: 'üèóÔ∏è',
                tags: ['quest', 'dapp', 'full-stack', 'project']
              }
            ],
            xpTotal: 380,
            estimatedTime: 21,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîµ',
            color: '#8B5CF6'
          }
        ],
        xpTotal: 940,
        estimatedTime: 54,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'dapp-builder',
        badgeTitle: 'DApp Builder',
        badgeDescription: 'Constructor experto de aplicaciones descentralizadas',
        icon: 'üèóÔ∏è',
        color: '#3B82F6',
        position: { x: 450, y: 400 }
      },
      {
        id: 'M2.R3',
        title: 'Arquitectura DApps',
        description: 'Patrones de dise√±o, storage descentralizado y or√°culos',
        units: [
          {
            id: 'M2.R3.U1',
            title: 'Patrones de dise√±o',
            description: 'Factory, proxy, upgradeable contracts',
            lessons: [
              {
                id: 'M2.R3.U1.L1',
                title: 'Factory pattern y clones',
                objective: 'Ahora implemento factory patterns eficientes',
                description: 'Factory contracts, minimal proxies (clones), gas optimization',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar factory con minimal proxies',
                xpReward: 105,
                status: 'locked',
                prerequisites: ['M2.R2.U3.L3'],
                icon: '‚ñ°',
                tags: ['factory', 'clones', 'proxies', 'patterns']
              },
              {
                id: 'M2.R3.U1.L2',
                title: 'Upgradeable contracts (proxy patterns)',
                objective: 'Ahora s√© implementar contratos actualizables',
                description: 'Transparent proxy, UUPS, beacon proxy, storage collision',
                duration: 7,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Deploy de contrato upgradeable con OpenZeppelin',
                xpReward: 120,
                status: 'locked',
                prerequisites: ['M2.R3.U1.L1'],
                icon: '‚¨ÜÔ∏è',
                tags: ['upgradeable', 'proxy', 'uups', 'openzeppelin']
              },
              {
                id: 'M2.R3.U1.L3',
                title: 'Diamond pattern (EIP-2535)',
                objective: 'Ahora entiendo el patr√≥n diamond para modularidad',
                description: 'Diamond standard, facets, diamond cut, modular architecture',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre arquitectura diamond',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M2.R3.U1.L2'],
                icon: 'üíé',
                tags: ['diamond', 'eip2535', 'facets', 'modular']
              }
            ],
            xpTotal: 325,
            estimatedTime: 18,
            status: 'locked',
            completedLessons: 0,
            icon: 'üèõÔ∏è',
            color: '#7C3AED'
          },
          {
            id: 'M2.R3.U2',
            title: 'Storage descentralizado',
            description: 'IPFS, Arweave y almacenamiento off-chain',
            lessons: [
              {
                id: 'M2.R3.U2.L1',
                title: 'IPFS: upload, pin, gateways',
                objective: 'Ahora uso IPFS para storage descentralizado',
                description: 'IPFS basics, pinning services, gateways, content addressing',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Upload y retrieve de datos desde IPFS',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M2.R3.U1.L3'],
                icon: 'üîµ',
                tags: ['ipfs', 'storage', 'pinning', 'gateways']
              },
              {
                id: 'M2.R3.U2.L2',
                title: 'Arweave y permanencia',
                objective: 'Ahora entiendo storage permanente con Arweave',
                description: 'Arweave protocol, permanent storage, bundlr, costs',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Store data permanentemente en Arweave',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M2.R3.U2.L1'],
                icon: '‚ôæÔ∏è',
                tags: ['arweave', 'permanent', 'storage', 'bundlr']
              },
              {
                id: 'M2.R3.U2.L3',
                title: 'Hybrid storage patterns',
                objective: 'Ahora dise√±o arquitecturas h√≠bridas on/off-chain',
                description: 'On-chain references, off-chain data, verification, cost optimization',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Dise√±ar sistema h√≠brido para NFT metadata',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M2.R3.U2.L2'],
                icon: 'üîó',
                tags: ['hybrid', 'on-chain', 'off-chain', 'optimization']
              }
            ],
            xpTotal: 255,
            estimatedTime: 14,
            status: 'locked',
            completedLessons: 0,
            icon: '‚¨ú',
            color: '#06B6D4'
          },
          {
            id: 'M2.R3.U3',
            title: 'Or√°culos y datos externos',
            description: 'Chainlink, price feeds y verificaci√≥n de datos',
            lessons: [
              {
                id: 'M2.R3.U3.L1',
                title: 'Chainlink price feeds',
                objective: 'Ahora integro price feeds de Chainlink',
                description: 'Price oracles, aggregators, heartbeat, deviation threshold',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Integrar price feed en smart contract',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M2.R3.U2.L3'],
                icon: 'üî∫',
                tags: ['chainlink', 'oracles', 'price-feeds', 'aggregators']
              },
              {
                id: 'M2.R3.U3.L2',
                title: 'VRF y automation',
                objective: 'Ahora uso randomness verificable y automation',
                description: 'Chainlink VRF, Keepers/Automation, use cases',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar loter√≠a con VRF y automation',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M2.R3.U3.L1'],
                icon: '‚ñ†',
                tags: ['vrf', 'randomness', 'automation', 'keepers']
              },
              {
                id: 'M2.R3.U3.L3',
                title: '‚ú™ Integrar or√°culo en DApp',
                objective: 'Ahora construyo DApps con datos del mundo real',
                description: 'Quest: DApp completa con integraci√≥n de or√°culos',
                duration: 8,
                difficulty: 'advanced',
                evidenceType: 'quest-demo',
                evidenceDescription: 'DApp funcional usando or√°culos para datos externos',
                xpReward: 180,
                status: 'locked',
                prerequisites: ['M2.R3.U3.L2'],
                isQuest: true,
                questType: 'demo',
                questInstructions: 'Crear DApp de predicci√≥n/betting con price feeds',
                verificationSteps: [
                  'Integrar Chainlink price feed',
                  'Implementar l√≥gica de predicci√≥n',
                  'UI para visualizar precios',
                  'Deploy y verificar funcionamiento'
                ],
                icon: 'üîµ',
                tags: ['quest', 'oracles', 'integration', 'dapp']
              }
            ],
            xpTotal: 370,
            estimatedTime: 19,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîµ',
            color: '#EC4899'
          }
        ],
        xpTotal: 950,
        estimatedTime: 51,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'architect-master',
        badgeTitle: 'DApp Architect',
        badgeDescription: 'Arquitecto experto de aplicaciones descentralizadas',
        icon: 'üèõÔ∏è',
        color: '#7C3AED',
        position: { x: 700, y: 350 }
      }
    ],
    xpTotal: 2760,
    estimatedTime: 153, // ~2.5 horas
    status: 'locked',
    completedBranches: 0,
    categoryId: 'protocolos-base-computo',
    categoryTitle: 'Protocolos Base & C√≥mputo',
    depth: 'high',
    prerequisites: ['M1'],
    masterBadgeId: 'smart-contract-expert',
    masterBadgeTitle: 'Smart Contract Expert',
    masterBadgeDescription: 'Experto completo en desarrollo de smart contracts y DApps',
    icon: 'üìö',
    color: '#059669',
    position: { x: 150 + (2 % 6) * 200, y: 80 + Math.floor(2 / 6) * 200 }, // M2: fila 1, pos 3
    hasQuests: true,
    questsCount: 4,
    badgesAvailable: 4
  },

  // ===== M3: GOBERNANZA & COORDINACI√ìN =====
  {
    id: 'M3',
    title: 'Gobernanza & Coordinaci√≥n',
    description: 'DAOs, votaci√≥n on-chain, mecanismos de coordinaci√≥n y teor√≠a de juegos aplicada',
    objective: 'Dominar sistemas de gobernanza descentralizada y mecanismos de coordinaci√≥n colectiva',
    branches: [
      {
        id: 'M3.R1',
        title: 'DAOs fundamentals',
        description: 'Organizaciones aut√≥nomas descentralizadas y sus mecanismos',
        units: [
          {
            id: 'M3.R1.U1',
            title: 'Anatom√≠a de una DAO',
            description: 'Estructura, componentes y tipos de DAOs',
            lessons: [
              {
                id: 'M3.R1.U1.L1',
                title: 'Qu√© es una DAO y casos de uso',
                objective: 'Ahora entiendo qu√© son las DAOs y sus aplicaciones reales',
                description: 'Concepto de DAO, historia, casos de √©xito y fracaso, tipos de DAOs',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre conceptos fundamentales de DAOs',
                xpReward: 75,
                status: 'locked',
                prerequisites: ['M2'],
                icon: 'üèõÔ∏è',
                tags: ['dao', 'governance', 'decentralization', 'use-cases']
              },
              {
                id: 'M3.R1.U1.L2',
                title: 'Treasury management y multisig',
                objective: 'Ahora s√© gestionar treasuries con multisigs',
                description: 'Gnosis Safe, treasury management, pol√≠ticas de gasto, multisig setup',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Configurar multisig 3/5 en Gnosis Safe',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M3.R1.U1.L1'],
                icon: 'üíé',
                tags: ['treasury', 'multisig', 'gnosis-safe', 'management']
              },
              {
                id: 'M3.R1.U1.L3',
                title: 'Membership y tokens de gobernanza',
                objective: 'Ahora entiendo sistemas de membership y tokens de gobernanza',
                description: 'Token-based vs NFT membership, distribuci√≥n, vesting, delegation',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Dise√±ar sistema de membership para DAO',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M3.R1.U1.L2'],
                icon: 'üé´',
                tags: ['membership', 'governance-tokens', 'nft', 'delegation']
              }
            ],
            xpTotal: 240,
            estimatedTime: 13,
            status: 'locked',
            completedLessons: 0,
            icon: 'üèõÔ∏è',
            color: '#8B5CF6'
          },
          {
            id: 'M3.R1.U2',
            title: 'Herramientas DAO',
            description: 'Plataformas y herramientas para crear y gestionar DAOs',
            lessons: [
              {
                id: 'M3.R1.U2.L1',
                title: 'Snapshot: votaci√≥n off-chain',
                objective: 'Ahora puedo crear y gestionar votaciones en Snapshot',
                description: 'Snapshot spaces, strategies, proposals, voting power calculation',
                duration: 4,
                difficulty: 'beginner',
                evidenceType: 'demo',
                evidenceDescription: 'Crear space y proposal en Snapshot',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M3.R1.U1.L3'],
                icon: 'üîµ',
                tags: ['snapshot', 'voting', 'off-chain', 'proposals']
              },
              {
                id: 'M3.R1.U2.L2',
                title: 'Governor contracts y OpenZeppelin',
                objective: 'Ahora implemento votaci√≥n on-chain con Governor',
                description: 'Governor pattern, timelock, proposal lifecycle, OpenZeppelin Governor',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Deploy Governor contract con timelock',
                xpReward: 110,
                status: 'locked',
                prerequisites: ['M3.R1.U2.L1'],
                icon: 'üî∫',
                tags: ['governor', 'on-chain', 'openzeppelin', 'timelock']
              },
              {
                id: 'M3.R1.U2.L3',
                title: '‚ú™ Crear mini-DAO funcional',
                objective: 'Ahora puedo crear DAOs funcionales completas',
                description: 'Quest: crear DAO con token, voting y treasury',
                duration: 8,
                difficulty: 'advanced',
                evidenceType: 'quest-demo',
                evidenceDescription: 'DAO funcional con al menos una propuesta ejecutada',
                xpReward: 160,
                status: 'locked',
                prerequisites: ['M3.R1.U2.L2'],
                isQuest: true,
                questType: 'demo',
                questInstructions: 'Deploy DAO con token ERC20, Governor y Treasury',
                verificationSteps: [
                  'Deploy governance token',
                  'Deploy Governor contract',
                  'Setup treasury con timelock',
                  'Crear y ejecutar propuesta'
                ],
                icon: 'üèóÔ∏è',
                tags: ['quest', 'dao', 'deployment', 'full-stack']
              }
            ],
            xpTotal: 340,
            estimatedTime: 18,
            status: 'locked',
            completedLessons: 0,
            icon: 'üõ†Ô∏è',
            color: '#3B82F6'
          },
          {
            id: 'M3.R1.U3',
            title: 'Modelos de DAO',
            description: 'Diferentes arquitecturas y modelos de gobernanza',
            lessons: [
              {
                id: 'M3.R1.U3.L1',
                title: 'Protocol DAOs vs Social DAOs',
                objective: 'Ahora distingo entre diferentes tipos de DAOs',
                description: 'Protocol governance, social coordination, investment DAOs, grants DAOs',
                duration: 3,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz comparativo sobre tipos de DAOs',
                xpReward: 65,
                status: 'locked',
                prerequisites: ['M3.R1.U2.L3'],
                icon: 'üîÄ',
                tags: ['protocol-dao', 'social-dao', 'types', 'comparison']
              },
              {
                id: 'M3.R1.U3.L2',
                title: 'SubDAOs y estructura jer√°rquica',
                objective: 'Ahora dise√±o estructuras de DAOs complejas',
                description: 'SubDAOs, working groups, committees, delegation frameworks',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Dise√±ar estructura de DAO con subDAOs',
                xpReward: 75,
                status: 'locked',
                prerequisites: ['M3.R1.U3.L1'],
                icon: 'üå≤',
                tags: ['subdaos', 'hierarchy', 'delegation', 'structure']
              },
              {
                id: 'M3.R1.U3.L3',
                title: 'Legal wrappers y compliance',
                objective: 'Ahora entiendo aspectos legales de DAOs',
                description: 'Legal entities, Wyoming DAO LLC, Swiss associations, compliance',
                duration: 3,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre estructuras legales para DAOs',
                xpReward: 60,
                status: 'locked',
                prerequisites: ['M3.R1.U3.L2'],
                icon: 'üî∫',
                tags: ['legal', 'compliance', 'llc', 'regulation']
              }
            ],
            xpTotal: 200,
            estimatedTime: 10,
            status: 'locked',
            completedLessons: 0,
            icon: 'üìà',
            color: '#F59E0B'
          }
        ],
        xpTotal: 780,
        estimatedTime: 41,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'dao-operator',
        badgeTitle: 'DAO Operator',
        badgeDescription: 'Operador experto de organizaciones aut√≥nomas descentralizadas',
        icon: 'üèõÔ∏è',
        color: '#8B5CF6',
        position: { x: 250, y: 500 }
      },
      {
        id: 'M3.R2',
        title: 'Sistemas de votaci√≥n',
        description: 'Mecanismos de votaci√≥n, delegaci√≥n y participaci√≥n',
        units: [
          {
            id: 'M3.R2.U1',
            title: 'Mecanismos de votaci√≥n',
            description: 'Diferentes sistemas de votaci√≥n y sus propiedades',
            lessons: [
              {
                id: 'M3.R2.U1.L1',
                title: 'Token-weighted vs quadratic voting',
                objective: 'Ahora comprendo diferentes mecanismos de votaci√≥n',
                description: 'Linear voting, quadratic voting, conviction voting, pros y contras',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre mecanismos de votaci√≥n',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M3.R1.U3.L3'],
                icon: 'üó≥Ô∏è',
                tags: ['voting', 'quadratic', 'conviction', 'mechanisms']
              },
              {
                id: 'M3.R2.U1.L2',
                title: 'Delegation y liquid democracy',
                objective: 'Ahora entiendo sistemas de delegaci√≥n avanzados',
                description: 'Vote delegation, liquid democracy, delegate incentives, metagovernance',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar sistema de delegaci√≥n',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M3.R2.U1.L1'],
                icon: 'üîµ',
                tags: ['delegation', 'liquid-democracy', 'metagovernance', 'incentives']
              },
              {
                id: 'M3.R2.U1.L3',
                title: 'Quorum y participaci√≥n',
                objective: 'Ahora optimizo quorum y participaci√≥n',
                description: 'Quorum requirements, participation incentives, voter apathy solutions',
                duration: 3,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Dise√±ar sistema de incentivos para participaci√≥n',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M3.R2.U1.L2'],
                icon: 'üìà',
                tags: ['quorum', 'participation', 'incentives', 'apathy']
              }
            ],
            xpTotal: 235,
            estimatedTime: 12,
            status: 'locked',
            completedLessons: 0,
            icon: 'üó≥Ô∏è',
            color: '#06B6D4'
          },
          {
            id: 'M3.R2.U2',
            title: 'Proposal lifecycle',
            description: 'Ciclo de vida completo de propuestas de gobernanza',
            lessons: [
              {
                id: 'M3.R2.U2.L1',
                title: 'Crear propuestas efectivas',
                objective: 'Ahora creo propuestas de gobernanza efectivas',
                description: 'Proposal structure, motivation, specification, implementation plan',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Escribir propuesta completa siguiendo best practices',
                xpReward: 75,
                status: 'locked',
                prerequisites: ['M3.R2.U1.L3'],
                icon: 'üìà',
                tags: ['proposals', 'governance', 'writing', 'structure']
              },
              {
                id: 'M3.R2.U2.L2',
                title: 'Discusi√≥n y temperature checks',
                objective: 'Ahora facilito discusiones productivas',
                description: 'Forum discussions, temperature checks, sentiment analysis, consensus building',
                duration: 3,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Facilitar discusi√≥n de propuesta en forum',
                xpReward: 65,
                status: 'locked',
                prerequisites: ['M3.R2.U2.L1'],
                icon: 'üå°Ô∏è',
                tags: ['discussion', 'temperature-check', 'consensus', 'forum']
              },
              {
                id: 'M3.R2.U2.L3',
                title: 'Ejecuci√≥n y post-mortem',
                objective: 'Ahora ejecuto y eval√∫o propuestas',
                description: 'Proposal execution, monitoring, success metrics, post-mortem analysis',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Ejecutar propuesta y hacer an√°lisis post-mortem',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M3.R2.U2.L2'],
                icon: '‚úÖ',
                tags: ['execution', 'monitoring', 'post-mortem', 'metrics']
              }
            ],
            xpTotal: 220,
            estimatedTime: 11,
            status: 'locked',
            completedLessons: 0,
            icon: 'üìã',
            color: '#10B981'
          },
          {
            id: 'M3.R2.U3',
            title: 'Ataques y defensas',
            description: 'Vectores de ataque a la gobernanza y mitigaciones',
            lessons: [
              {
                id: 'M3.R2.U3.L1',
                title: 'Governance attacks: bribery, raids',
                objective: 'Ahora identifico y prevengo ataques de gobernanza',
                description: 'Vote buying, governance raids, flash loan attacks, vampire attacks',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre vectores de ataque y prevenci√≥n',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M3.R2.U2.L3'],
                icon: 'üíé',
                tags: ['attacks', 'bribery', 'raids', 'flash-loans']
              },
              {
                id: 'M3.R2.U3.L2',
                title: 'Sybil resistance y plutocracy',
                objective: 'Ahora implemento resistencia Sybil',
                description: 'Sybil attacks, proof of humanity, gitcoin passport, quadratic funding',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar sistema Sybil-resistant',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M3.R2.U3.L1'],
                icon: 'üõ°Ô∏è',
                tags: ['sybil', 'proof-of-humanity', 'gitcoin', 'resistance']
              },
              {
                id: 'M3.R2.U3.L3',
                title: '‚ú™ Simular ataque y defensa',
                objective: 'Ahora puedo defender DAOs de ataques reales',
                description: 'Quest: simular y defender contra ataque de gobernanza',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'quest-simulation',
                evidenceDescription: 'Simulaci√≥n completa de ataque y defensa exitosa',
                xpReward: 140,
                status: 'locked',
                prerequisites: ['M3.R2.U3.L2'],
                isQuest: true,
                questType: 'simulation',
                questInstructions: 'Simular flash loan attack y implementar defensas',
                verificationSteps: [
                  'Identificar vector de ataque',
                  'Simular ataque en fork',
                  'Implementar mitigaciones',
                  'Verificar defensa efectiva'
                ],
                icon: 'üî∞',
                tags: ['quest', 'attack-simulation', 'defense', 'security']
              }
            ],
            xpTotal: 335,
            estimatedTime: 16,
            status: 'locked',
            completedLessons: 0,
            icon: 'üõ°Ô∏è',
            color: '#EF4444'
          }
        ],
        xpTotal: 790,
        estimatedTime: 39,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'governance-expert',
        badgeTitle: 'Governance Expert',
        badgeDescription: 'Experto en sistemas de votaci√≥n y gobernanza',
        icon: 'üó≥Ô∏è',
        color: '#06B6D4',
        position: { x: 500, y: 550 }
      },
      {
        id: 'M3.R3',
        title: 'Coordinaci√≥n y teor√≠a de juegos',
        description: 'Mecanismos de coordinaci√≥n, incentivos y equilibrios',
        units: [
          {
            id: 'M3.R3.U1',
            title: 'Mecanismos de coordinaci√≥n',
            description: 'Herramientas para coordinar acci√≥n colectiva',
            lessons: [
              {
                id: 'M3.R3.U1.L1',
                title: 'Schelling points y se√±alizaci√≥n',
                objective: 'Ahora uso Schelling points para coordinaci√≥n',
                description: 'Focal points, signaling theory, coordination games, common knowledge',
                duration: 4,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre teor√≠a de coordinaci√≥n',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M3.R2.U3.L3'],
                icon: 'üéØ',
                tags: ['schelling', 'signaling', 'coordination', 'game-theory']
              },
              {
                id: 'M3.R3.U1.L2',
                title: 'Commitment devices y time locks',
                objective: 'Ahora implemento mecanismos de compromiso',
                description: 'Commitment mechanisms, time locks, vesting, rage quit',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar commitment device con timelock',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M3.R3.U1.L1'],
                icon: '‚¨ú',
                tags: ['commitment', 'timelock', 'vesting', 'rage-quit']
              },
              {
                id: 'M3.R3.U1.L3',
                title: 'Retroactive public goods funding',
                objective: 'Ahora entiendo financiamiento retroactivo',
                description: 'RetroPGF, Optimism model, impact measurement, allocation mechanisms',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Dise√±ar sistema de RetroPGF',
                xpReward: 75,
                status: 'locked',
                prerequisites: ['M3.R3.U1.L2'],
                icon: '‚≠ê',
                tags: ['retropgf', 'public-goods', 'optimism', 'funding']
              }
            ],
            xpTotal: 240,
            estimatedTime: 12,
            status: 'locked',
            completedLessons: 0,
            icon: 'ü§ù',
            color: '#7C3AED'
          },
          {
            id: 'M3.R3.U2',
            title: 'Dise√±o de incentivos',
            description: 'Creaci√≥n de sistemas de incentivos efectivos',
            lessons: [
              {
                id: 'M3.R3.U2.L1',
                title: 'Token economics b√°sico',
                objective: 'Ahora dise√±o tokenomics b√°sicos',
                description: 'Supply mechanics, distribution, utility, value accrual, sinks and faucets',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Dise√±ar tokenomics para protocolo',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M3.R3.U1.L3'],
                icon: 'üíé',
                tags: ['tokenomics', 'supply', 'utility', 'value-accrual']
              },
              {
                id: 'M3.R3.U2.L2',
                title: 'Staking y slashing mechanics',
                objective: 'Ahora implemento sistemas de staking',
                description: 'Staking design, slashing conditions, rewards distribution, APY calculations',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar sistema de staking con slashing',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M3.R3.U2.L1'],
                icon: '‚ö°',
                tags: ['staking', 'slashing', 'rewards', 'apy']
              },
              {
                id: 'M3.R3.U2.L3',
                title: 'Bonding curves y AMMs',
                objective: 'Ahora dise√±o bonding curves',
                description: 'Bonding curve mathematics, AMM design, liquidity incentives',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar bonding curve personalizada',
                xpReward: 105,
                status: 'locked',
                prerequisites: ['M3.R3.U2.L2'],
                icon: 'üî∫',
                tags: ['bonding-curves', 'amm', 'liquidity', 'mathematics']
              }
            ],
            xpTotal: 290,
            estimatedTime: 16,
            status: 'locked',
            completedLessons: 0,
            icon: 'üíé',
            color: '#F59E0B'
          },
          {
            id: 'M3.R3.U3',
            title: 'Quest: DAO completa',
            description: 'Crear y lanzar DAO funcional con comunidad',
            lessons: [
              {
                id: 'M3.R3.U3.L1',
                title: '‚ú™ Dise√±ar constituci√≥n y estructura',
                objective: 'Ahora puedo dise√±ar DAOs completas',
                description: 'Quest: crear constituci√≥n y estructura de DAO',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'quest-demo',
                evidenceDescription: 'Documento de constituci√≥n y estructura completo',
                xpReward: 120,
                status: 'locked',
                prerequisites: ['M3.R3.U2.L3'],
                isQuest: true,
                questType: 'demo',
                questInstructions: 'Crear constituci√≥n con valores, estructura y procesos',
                verificationSteps: [
                  'Definir misi√≥n y valores',
                  'Dise√±ar estructura organizacional',
                  'Establecer procesos de gobernanza',
                  'Documentar todo en constituci√≥n'
                ],
                icon: 'üìö',
                tags: ['quest', 'constitution', 'structure', 'design']
              },
              {
                id: 'M3.R3.U3.L2',
                title: '‚ú™ Lanzar DAO con comunidad inicial',
                objective: 'Ahora puedo lanzar DAOs con comunidad',
                description: 'Quest: lanzar DAO con al menos 10 miembros',
                duration: 8,
                difficulty: 'advanced',
                evidenceType: 'quest-demo',
                evidenceDescription: 'DAO lanzada con comunidad activa',
                xpReward: 150,
                status: 'locked',
                prerequisites: ['M3.R3.U3.L1'],
                isQuest: true,
                questType: 'demo',
                questInstructions: 'Lanzar DAO y reclutar miembros fundadores',
                verificationSteps: [
                  'Deploy contratos de DAO',
                  'Distribuir tokens iniciales',
                  'Reclutar 10+ miembros',
                  'Ejecutar primera propuesta'
                ],
                icon: 'üî∫',
                tags: ['quest', 'launch', 'community', 'recruitment']
              },
              {
                id: 'M3.R3.U3.L3',
                title: 'Certificado Gobernanza Descentralizada',
                objective: 'Certificaci√≥n en gobernanza y coordinaci√≥n',
                description: 'Evaluaci√≥n final del m√≥dulo de gobernanza',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Examen comprehensivo con score ‚â•85%',
                xpReward: 180,
                status: 'locked',
                prerequisites: ['M3.R3.U3.L2'],
                icon: 'üèÜ',
                tags: ['certification', 'exam', 'governance', 'final']
              }
            ],
            xpTotal: 450,
            estimatedTime: 19,
            status: 'locked',
            completedLessons: 0,
            icon: '‚≠ê',
            color: '#EC4899'
          }
        ],
        xpTotal: 980,
        estimatedTime: 47,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'coordination-master',
        badgeTitle: 'Coordination Master',
        badgeDescription: 'Maestro en coordinaci√≥n y teor√≠a de juegos aplicada',
        icon: '‚óã',
        color: '#EC4899',
        position: { x: 750, y: 500 }
      }
    ],
    xpTotal: 2550,
    estimatedTime: 127, // ~2.1 horas
    status: 'locked',
    completedBranches: 0,
    categoryId: 'organizacion-diseno-economico',
    categoryTitle: 'Organizaci√≥n & Dise√±o Econ√≥mico',
    depth: 'high',
    prerequisites: ['M2'],
    masterBadgeId: 'governance-architect',
    masterBadgeTitle: 'Governance Architect',
    masterBadgeDescription: 'Arquitecto maestro de sistemas de gobernanza descentralizada',
    icon: 'üèõÔ∏è',
    color: '#8B5CF6',
    position: { x: 150 + (3 % 6) * 200, y: 80 + Math.floor(3 / 6) * 200 }, // M3: fila 1, pos 4
    hasQuests: true,
    questsCount: 5,
    badgesAvailable: 4
  },

  // ===== M4: TOKENS & CRIPTO ACTIVOS =====
  {
    id: 'M4',
    title: 'Tokens & Cripto Activos',
    description: 'ERC-20, ERC-721, ERC-1155, DeFi b√°sico y econom√≠a de tokens',
    objective: 'Dominar est√°ndares de tokens, NFTs y fundamentos de DeFi',
    branches: [
      {
        id: 'M4.R1',
        title: 'Tokens fungibles (ERC-20)',
        description: 'Est√°ndar ERC-20, stablecoins y wrapped tokens',
        units: [
          {
            id: 'M4.R1.U1',
            title: 'Est√°ndar ERC-20',
            description: 'Anatom√≠a y funciones del est√°ndar ERC-20',
            lessons: [
              {
                id: 'M4.R1.U1.L1',
                title: 'Anatom√≠a de un token ERC-20',
                objective: 'Ahora entiendo completamente el est√°ndar ERC-20',
                description: 'totalSupply, balanceOf, transfer, approve, transferFrom, allowance',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre funciones ERC-20',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M3'],
                icon: 'üîµ',
                tags: ['erc20', 'tokens', 'standard', 'functions']
              },
              {
                id: 'M4.R1.U1.L2',
                title: 'Decimals y precisi√≥n',
                objective: 'Ahora manejo decimales y precisi√≥n en tokens',
                description: 'Decimales standard (18), wei/ether conversion, precision handling',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Calcular conversiones con diferentes decimales',
                xpReward: 75,
                status: 'locked',
                prerequisites: ['M4.R1.U1.L1'],
                icon: 'üîµ',
                tags: ['decimals', 'precision', 'wei', 'conversion']
              },
              {
                id: 'M4.R1.U1.L3',
                title: 'Minting, burning y supply control',
                objective: 'Ahora s√© gestionar el supply de tokens',
                description: 'Mint functions, burn mechanisms, supply caps, inflation control',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar token con mint/burn functions',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M4.R1.U1.L2'],
                icon: 'üî•',
                tags: ['minting', 'burning', 'supply', 'tokenomics']
              }
            ],
            xpTotal: 250,
            estimatedTime: 14,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîµ',
            color: '#F59E0B'
          },
          {
            id: 'M4.R1.U2',
            title: 'Stablecoins',
            description: 'Tipos de stablecoins y mecanismos de estabilidad',
            lessons: [
              {
                id: 'M4.R1.U2.L1',
                title: 'Tipos: fiat-backed, crypto-backed, algorithmic',
                objective: 'Ahora distingo entre tipos de stablecoins',
                description: 'USDC/USDT (fiat), DAI (crypto), UST/FRAX (algo), pros y contras',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz comparativo sobre tipos de stablecoins',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M4.R1.U1.L3'],
                icon: 'üíµ',
                tags: ['stablecoins', 'usdc', 'dai', 'algorithmic']
              },
              {
                id: 'M4.R1.U2.L2',
                title: 'Mecanismos de peg y colateralizaci√≥n',
                objective: 'Ahora entiendo c√≥mo mantienen su valor las stablecoins',
                description: 'Peg mechanisms, collateralization ratios, redemption, arbitrage',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'An√°lisis de peg mechanism de DAI',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M4.R1.U2.L1'],
                icon: 'üî∫',
                tags: ['peg', 'collateral', 'redemption', 'stability']
              },
              {
                id: 'M4.R1.U2.L3',
                title: 'Riesgos: depeg, bank runs, regulaci√≥n',
                objective: 'Ahora identifico riesgos en stablecoins',
                description: 'Depeg events (UST), bank runs, regulatory risks, blacklisting',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre casos hist√≥ricos de depeg',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M4.R1.U2.L2'],
                icon: '‚ö†Ô∏è',
                tags: ['risks', 'depeg', 'regulation', 'blacklist']
              }
            ],
            xpTotal: 245,
            estimatedTime: 15,
            status: 'locked',
            completedLessons: 0,
            icon: 'üíµ',
            color: '#10B981'
          },
          {
            id: 'M4.R1.U3',
            title: 'Wrapped tokens',
            description: 'Bridges, wrapped assets y cross-chain',
            lessons: [
              {
                id: 'M4.R1.U3.L1',
                title: 'WETH, WBTC y wrapped assets',
                objective: 'Ahora entiendo el concepto de wrapped tokens',
                description: 'WETH para compatibility, WBTC en Ethereum, wrapping/unwrapping',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Wrap y unwrap ETH en WETH',
                xpReward: 75,
                status: 'locked',
                prerequisites: ['M4.R1.U2.L3'],
                icon: 'üíé',
                tags: ['weth', 'wbtc', 'wrapped', 'compatibility']
              },
              {
                id: 'M4.R1.U3.L2',
                title: 'Bridges y cross-chain transfers',
                objective: 'Ahora s√© mover tokens entre chains',
                description: 'Bridge architecture, lock & mint, burn & release, bridge risks',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Bridgear tokens entre L1 y L2',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M4.R1.U3.L1'],
                icon: 'üåâ',
                tags: ['bridges', 'cross-chain', 'interoperability', 'l2']
              },
              {
                id: 'M4.R1.U3.L3',
                title: '‚ú™ Deploy y verificar token ERC-20',
                objective: 'Ahora puedo crear mis propios tokens ERC-20',
                description: 'Quest: deployar token ERC-20 con funcionalidad completa',
                duration: 8,
                difficulty: 'intermediate',
                evidenceType: 'quest-onchain',
                evidenceDescription: 'Token ERC-20 deployado y verificado en testnet',
                xpReward: 150,
                status: 'locked',
                prerequisites: ['M4.R1.U3.L2'],
                isQuest: true,
                questType: 'onchain',
                questInstructions: 'Deploy token con supply, mint, burn y metadata',
                verificationSteps: [
                  'Escribir contrato ERC-20',
                  'Deploy en Base Sepolia',
                  'Verificar en BaseScan',
                  'Testear todas las funciones'
                ],
                icon: 'üî∫',
                tags: ['quest', 'deployment', 'erc20', 'verification']
              }
            ],
            xpTotal: 325,
            estimatedTime: 18,
            status: 'locked',
            completedLessons: 0,
            icon: 'üåâ',
            color: '#8B5CF6'
          }
        ],
        xpTotal: 820,
        estimatedTime: 47,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'token-master',
        badgeTitle: 'Token Master',
        badgeDescription: 'Experto en tokens fungibles y est√°ndares ERC-20',
        icon: 'üîµ',
        color: '#F59E0B',
        position: { x: 200, y: 650 }
      },
      {
        id: 'M4.R2',
        title: 'NFTs (ERC-721 & 1155)',
        description: 'Non-fungible tokens, metadata y marketplaces',
        units: [
          {
            id: 'M4.R2.U1',
            title: 'ERC-721 standard',
            description: 'NFTs b√°sicos y su implementaci√≥n',
            lessons: [
              {
                id: 'M4.R2.U1.L1',
                title: 'Anatom√≠a ERC-721: ownership y uniqueness',
                objective: 'Ahora entiendo el est√°ndar ERC-721',
                description: 'ownerOf, tokenURI, transferFrom, safeTransferFrom, approval',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre funciones ERC-721',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M4.R1.U3.L3'],
                icon: 'üñºÔ∏è',
                tags: ['erc721', 'nft', 'ownership', 'standard']
              },
              {
                id: 'M4.R2.U1.L2',
                title: 'Metadata: on-chain vs off-chain (IPFS)',
                objective: 'Ahora gestiono metadata de NFTs correctamente',
                description: 'tokenURI, metadata JSON standard, IPFS pinning, on-chain SVG',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Crear NFT con metadata en IPFS',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M4.R2.U1.L1'],
                icon: 'üìã',
                tags: ['metadata', 'ipfs', 'tokenuri', 'json']
              },
              {
                id: 'M4.R2.U1.L3',
                title: 'Minting strategies: public, whitelist, Dutch auction',
                objective: 'Ahora implemento diferentes estrategias de minting',
                description: 'Public sales, whitelist/allowlist, Dutch auctions, reveal mechanics',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar whitelist minting',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M4.R2.U1.L2'],
                icon: 'üéØ',
                tags: ['minting', 'whitelist', 'dutch-auction', 'sales']
              }
            ],
            xpTotal: 270,
            estimatedTime: 16,
            status: 'locked',
            completedLessons: 0,
            icon: 'üñºÔ∏è',
            color: '#EC4899'
          },
          {
            id: 'M4.R2.U2',
            title: 'ERC-1155 multi-token',
            description: 'Semi-fungible tokens y batch operations',
            lessons: [
              {
                id: 'M4.R2.U2.L1',
                title: 'Semi-fungible tokens: lo mejor de ambos',
                objective: 'Ahora entiendo ERC-1155 y sus ventajas',
                description: 'Fungible + non-fungible, batch transfers, gas optimization',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre casos de uso ERC-1155',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M4.R2.U1.L3'],
                icon: 'üîµ',
                tags: ['erc1155', 'semi-fungible', 'batch', 'optimization']
              },
              {
                id: 'M4.R2.U2.L2',
                title: 'Gaming items y supply management',
                objective: 'Ahora dise√±o sistemas de items para gaming',
                description: 'Game items, editions, supply per token ID, balance batch queries',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Dise√±ar sistema de items para juego',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M4.R2.U2.L1'],
                icon: '‚óã',
                tags: ['gaming', 'items', 'supply', 'editions']
              },
              {
                id: 'M4.R2.U2.L3',
                title: 'Batch operations y gas savings',
                objective: 'Ahora optimizo operaciones batch para ahorrar gas',
                description: 'safeBatchTransferFrom, balanceOfBatch, gas comparisons',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Comparar gas: ERC-721 vs ERC-1155 batch',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M4.R2.U2.L2'],
                icon: '‚ö°',
                tags: ['batch', 'gas-optimization', 'efficiency', 'comparison']
              }
            ],
            xpTotal: 265,
            estimatedTime: 15,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîµ',
            color: '#7C3AED'
          },
          {
            id: 'M4.R2.U3',
            title: 'NFT ecosystem',
            description: 'Marketplaces, royalties y utilidad',
            lessons: [
              {
                id: 'M4.R2.U3.L1',
                title: 'Marketplaces: OpenSea, Blur, Rarible',
                objective: 'Ahora entiendo el ecosistema de marketplaces NFT',
                description: 'Listing, offers, royalties, aggregators, marketplace wars',
                duration: 4,
                difficulty: 'beginner',
                evidenceType: 'demo',
                evidenceDescription: 'Listar NFT en marketplace',
                xpReward: 70,
                status: 'locked',
                prerequisites: ['M4.R2.U2.L3'],
                icon: 'üè™',
                tags: ['marketplace', 'opensea', 'blur', 'trading']
              },
              {
                id: 'M4.R2.U3.L2',
                title: 'Royalties: EIP-2981 y enforcement',
                objective: 'Ahora implemento royalties on-chain',
                description: 'EIP-2981 standard, royalty enforcement, operator filters',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Implementar EIP-2981 en NFT',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M4.R2.U3.L1'],
                icon: 'üíé',
                tags: ['royalties', 'eip2981', 'enforcement', 'revenue']
              },
              {
                id: 'M4.R2.U3.L3',
                title: '‚ú™ Lanzar colecci√≥n NFT completa',
                objective: 'Ahora puedo lanzar colecciones NFT profesionales',
                description: 'Quest: crear y lanzar colecci√≥n NFT con metadata y marketplace',
                duration: 10,
                difficulty: 'advanced',
                evidenceType: 'quest-demo',
                evidenceDescription: 'Colecci√≥n NFT lanzada con 10+ items',
                xpReward: 180,
                status: 'locked',
                prerequisites: ['M4.R2.U3.L2'],
                isQuest: true,
                questType: 'demo',
                questInstructions: 'Crear colecci√≥n con art, metadata, smart contract y listing',
                verificationSteps: [
                  'Generar artwork y metadata',
                  'Deploy smart contract',
                  'Upload metadata a IPFS',
                  'Listar en OpenSea testnet'
                ],
                icon: 'üîµ',
                tags: ['quest', 'nft-collection', 'launch', 'marketplace']
              }
            ],
            xpTotal: 335,
            estimatedTime: 19,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîµ',
            color: '#06B6D4'
          }
        ],
        xpTotal: 870,
        estimatedTime: 50,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'nft-creator',
        badgeTitle: 'NFT Creator',
        badgeDescription: 'Creador experto de NFTs y colecciones digitales',
        icon: 'üñºÔ∏è',
        color: '#EC4899',
        position: { x: 450, y: 700 }
      },
      {
        id: 'M4.R3',
        title: 'DeFi basics',
        description: 'AMMs, liquidity pools y yield farming',
        units: [
          {
            id: 'M4.R3.U1',
            title: 'AMMs y DEXs',
            description: 'Automated Market Makers y exchanges descentralizados',
            lessons: [
              {
                id: 'M4.R3.U1.L1',
                title: 'Uniswap V2: x*y=k formula',
                objective: 'Ahora entiendo la f√≥rmula b√°sica de AMMs',
                description: 'Constant product formula, price impact, slippage, impermanent loss',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre mec√°nicas de AMM',
                xpReward: 100,
                status: 'locked',
                prerequisites: ['M4.R2.U3.L3'],
                icon: 'üîµ',
                tags: ['amm', 'uniswap', 'dex', 'formula']
              },
              {
                id: 'M4.R3.U1.L2',
                title: 'Liquidity pools y LP tokens',
                objective: 'Ahora s√© proveer liquidez en pools',
                description: 'Adding liquidity, LP tokens, fee collection, removing liquidity',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Proveer liquidez en Uniswap',
                xpReward: 90,
                status: 'locked',
                prerequisites: ['M4.R3.U1.L1'],
                icon: 'üîµ',
                tags: ['liquidity', 'lp-tokens', 'pools', 'fees']
              },
              {
                id: 'M4.R3.U1.L3',
                title: 'Impermanent loss y estrategias',
                objective: 'Ahora calculo y mitigo impermanent loss',
                description: 'IL calculation, mitigation strategies, concentrated liquidity',
                duration: 5,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Calcular IL en diferentes escenarios',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M4.R3.U1.L2'],
                icon: '‚ñΩ',
                tags: ['impermanent-loss', 'risk', 'strategy', 'calculation']
              }
            ],
            xpTotal: 285,
            estimatedTime: 16,
            status: 'locked',
            completedLessons: 0,
            icon: 'üîµ',
            color: '#A855F7'
          },
          {
            id: 'M4.R3.U2',
            title: 'Lending & Borrowing',
            description: 'Protocolos de pr√©stamos descentralizados',
            lessons: [
              {
                id: 'M4.R3.U2.L1',
                title: 'Compound/Aave: supply & borrow',
                objective: 'Ahora uso protocolos de lending/borrowing',
                description: 'Supply assets, earn interest, borrow against collateral, liquidations',
                duration: 6,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Supply y borrow en Aave',
                xpReward: 95,
                status: 'locked',
                prerequisites: ['M4.R3.U1.L3'],
                icon: 'üè¢',
                tags: ['lending', 'borrowing', 'aave', 'compound']
              },
              {
                id: 'M4.R3.U2.L2',
                title: 'Collateralization ratios y liquidaciones',
                objective: 'Ahora gestiono riesgo de liquidaci√≥n',
                description: 'LTV ratios, health factor, liquidation threshold, liquidation bonus',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'quiz',
                evidenceDescription: 'Quiz sobre gesti√≥n de riesgo en lending',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M4.R3.U2.L1'],
                icon: '‚ö†Ô∏è',
                tags: ['collateral', 'liquidation', 'risk', 'ltv']
              },
              {
                id: 'M4.R3.U2.L3',
                title: 'Flash loans: arbitrage sin capital',
                objective: 'Ahora entiendo y uso flash loans',
                description: 'Flash loan mechanics, arbitrage opportunities, liquidations, risks',
                duration: 6,
                difficulty: 'advanced',
                evidenceType: 'demo',
                evidenceDescription: 'Ejecutar flash loan simple',
                xpReward: 110,
                status: 'locked',
                prerequisites: ['M4.R3.U2.L2'],
                icon: '‚ö°',
                tags: ['flash-loans', 'arbitrage', 'liquidation', 'advanced']
              }
            ],
            xpTotal: 290,
            estimatedTime: 17,
            status: 'locked',
            completedLessons: 0,
            icon: 'üè¢',
            color: '#10B981'
          },
          {
            id: 'M4.R3.U3',
            title: 'Yield strategies',
            description: 'Farming, staking y estrategias de yield',
            lessons: [
              {
                id: 'M4.R3.U3.L1',
                title: 'Yield farming: incentivos y rewards',
                objective: 'Ahora maximizo yields con farming',
                description: 'Liquidity mining, farming rewards, APR vs APY, auto-compounding',
                duration: 5,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Setup de estrategia de farming',
                xpReward: 85,
                status: 'locked',
                prerequisites: ['M4.R3.U2.L3'],
                icon: '‚óÑ',
                tags: ['yield-farming', 'rewards', 'apr', 'apy']
              },
              {
                id: 'M4.R3.U3.L2',
                title: 'Vaults y auto-compounding',
                objective: 'Ahora uso vaults para optimizar yields',
                description: 'Yearn vaults, auto-compounding strategies, fees, risks',
                duration: 4,
                difficulty: 'intermediate',
                evidenceType: 'demo',
                evidenceDescription: 'Depositar en vault de Yearn',
                xpReward: 80,
                status: 'locked',
                prerequisites: ['M4.R3.U3.L1'],
                icon: 'üèõÔ∏è',
                tags: ['vaults', 'yearn', 'auto-compound', 'optimization']
              },
              {
                id: 'M4.R3.U3.L3',
                title: '‚ú™ Estrategia DeFi completa',
                objective: 'Ahora dise√±o estrategias DeFi complejas',
                description: 'Quest: implementar estrategia combinando AMM, lending y farming',
                duration: 8,
                difficulty: 'advanced',
                evidenceType: 'quest-simulation',
                evidenceDescription: 'Estrategia rentable en simulaci√≥n',
                xpReward: 160,
                status: 'locked',
                prerequisites: ['M4.R3.U3.L2'],
                isQuest: true,
                questType: 'simulation',
                questInstructions: 'Dise√±ar estrategia con 3+ protocolos DeFi',
                verificationSteps: [
                  'Analizar oportunidades',
                  'Calcular riesgos y retornos',
                  'Implementar estrategia',
                  'Monitorear performance'
                ],
                icon: 'üíé',
                tags: ['quest', 'strategy', 'defi', 'complex']
              }
            ],
            xpTotal: 325,
            estimatedTime: 17,
            status: 'locked',
            completedLessons: 0,
            icon: '‚óÑ',
            color: '#F59E0B'
          }
        ],
        xpTotal: 900,
        estimatedTime: 50,
        status: 'locked',
        completedUnits: 0,
        badgeId: 'defi-strategist',
        badgeTitle: 'DeFi Strategist',
        badgeDescription: 'Estratega experto en protocolos DeFi',
        icon: 'üíé',
        color: '#A855F7',
        position: { x: 700, y: 650 }
      }
    ],
    xpTotal: 2590,
    estimatedTime: 147, // ~2.5 horas
    status: 'locked',
    completedBranches: 0,
    categoryId: 'activos-mercados',
    categoryTitle: 'Activos & Mercados',
    depth: 'high',
    prerequisites: ['M3'],
    masterBadgeId: 'crypto-assets-expert',
    masterBadgeTitle: 'Crypto Assets Expert',
    masterBadgeDescription: 'Experto completo en tokens, NFTs y DeFi',
    icon: 'üíé',
    color: '#F59E0B',
    position: { x: 150 + (4 % 6) * 200, y: 80 + Math.floor(4 / 6) * 200 }, // M4: fila 1, pos 5
    hasQuests: true,
    questsCount: 4,
    badgesAvailable: 4
  }
];

// ===== M√ìDULOS AVANZADOS (M5-M8) - PROFUNDIDAD ALTA =====

const M5_DEFI_CORE: Module = {
  id: 'M5',
  title: 'DeFi Core 2025',
  description: 'üîÆ DeFi Core 2025: Ecosistema DeFi de pr√≥xima generaci√≥n con Restaking, Liquid Staking, Cross-chain Protocols, y AMM V4. Incluye Uniswap V4, Curve Finance, SushiSwap y protocolos emergentes en Base blockchain.',
  objective: 'Dominar protocolos DeFi 2025: AMM avanzados, restaking, yield farming institucional y cross-chain liquidity con enfoque en Base ecosystem y tendencias futuras.',
  branches: [
    // R1: DEX (AMM)
    {
      id: '5.1',
      title: 'DEX (AMM)',
      description: 'Automated Market Makers: liquidez, swaps, impermanent loss y agregadores para intercambios descentralizados.',
      units: [
        {
          id: '5.1.1',
          title: 'AMM b√°sico',
          description: 'Fundamentos de Automated Market Makers y f√≥rmulas de precios',
          lessons: [
            {
              id: '5.1.1.1',
              title: '‚ö° AMM 2025: V4 Hooks & Concentrated Liquidity',
              objective: 'Ahora domino AMM avanzados con hooks personalizables y liquidez concentrada',
              description: 'üöÄ Uniswap V4 hooks, Curve V2 pools, SushiSwap V3 concentrada. F√≥rmulas x¬∑y=k evolution, custom hooks, MEV protection integrada.',
              duration: 12,
              difficulty: 'advanced',
              evidenceType: 'quiz',
              evidenceDescription: 'Quiz AMM V4 con hooks y concentrated liquidity ‚â•85%',
              xpReward: 120,
              status: 'locked',
              isQuest: false,
              icon: '‚ö°',
              tags: ['amm-v4', 'hooks', 'concentrated-liquidity', 'uniswap-v4']
            },
            {
              id: '5.1.1.2',
              title: 'üõ°Ô∏è MEV Protection & Smart Slippage 2025',
              objective: 'Ahora s√© protegerme del MEV y optimizar slippage con IA',
              description: 'üß† Smart slippage con ML algorithms, MEV protection protocols, intents-based trading. Base blockchain optimizations y private mempools.',
              duration: 10,
              difficulty: 'advanced',
              evidenceType: 'quest-simulation',
              evidenceDescription: 'Simular trades con protecci√≥n MEV en Base testnet',
              xpReward: 100,
              status: 'locked',
              isQuest: true,
              questType: 'simulation',
              questInstructions: 'Ejecutar trades con protecci√≥n MEV en Base usando intents-based protocols',
              icon: 'üõ°Ô∏è',
              tags: ['mev-protection', 'smart-slippage', 'intents', 'base-blockchain']
            },
            {
              id: '5.1.1.3',
              title: 'üîÆ IL Mitigation & Restaking Yields 2025',
              objective: 'Ahora s√© mitigar IL con restaking protocols y yield optimization',
              description: '‚ö° EigenLayer restaking, Lido liquid staking evolution, IL insurance protocols. Dynamic hedge strategies y cross-chain yield optimization.',
              duration: 15,
              difficulty: 'advanced',
              evidenceType: 'quiz',
              evidenceDescription: 'Resolver casos pr√°cticos de IL ‚â•80%',
              xpReward: 90,
              status: 'locked',
              isQuest: false,
              icon: '‚ö†Ô∏è',
              tags: ['impermanent-loss', 'risk', 'strategy']
            }
          ],
          xpTotal: 245,
          estimatedTime: 25,
          status: 'locked',
          completedLessons: 0,
          icon: '‚≠ê',
          color: '#10B981'
        },
        {
          id: '5.1.2',
          title: 'Pr√°ctica DEX ‚ú™',
          description: 'Interacciones pr√°cticas con AMM en testnet',
          lessons: [
            {
              id: '5.1.2.1',
              title: '‚ú™ Swap en Base test',
              objective: 'Ahora s√© hacer swaps en DEX descentralizados',
              description: 'Realizar swap real en Base testnet documentando el proceso',
              duration: 12,
              difficulty: 'intermediate',
              evidenceType: 'quest-onchain',
              evidenceDescription: 'TX hash de swap exitoso en Base testnet',
              xpReward: 120,
              status: 'locked',
              isQuest: true,
              questType: 'onchain',
              questInstructions: 'Conectar wallet, hacer swap tETH‚ÜítUSDC, documentar tx hash',
              verificationSteps: ['Conectar a Base testnet', 'Obtener tokens test', 'Ejecutar swap', 'Verificar balance'],
              icon: 'üí±',
              tags: ['swap', 'onchain', 'base-testnet']
            },
            {
              id: '5.1.2.2',
              title: '‚ú™ A√±adir/quitar liquidez con recibo LP',
              objective: 'Ahora s√© proveer liquidez y gestionar LP tokens',
              description: 'A√±adir liquidez a pool y recibir LP tokens, luego retirar',
              duration: 15,
              difficulty: 'advanced',
              evidenceType: 'quest-onchain',
              evidenceDescription: 'TX hash de add liquidity + screenshot de LP tokens',
              xpReward: 150,
              status: 'locked',
              isQuest: true,
              questType: 'onchain',
              questInstructions: 'A√±adir liquidez a pool ETH/USDC, recibir LP tokens, documentar',
              verificationSteps: ['Seleccionar pool', 'Calcular proporci√≥n', 'Add liquidity', 'Verificar LP tokens'],
              icon: 'üîµ',
              tags: ['liquidity', 'lp-tokens', 'onchain']
            },
            {
              id: '5.1.2.3',
              title: 'Leer pools en explorer',
              objective: 'Ahora s√© analizar pools de liquidez usando explorers',
              description: 'Analizar m√©tricas de pools: TVL, volumen, fees generados',
              duration: 8,
              difficulty: 'intermediate',
              evidenceType: 'screenshot',
              evidenceDescription: 'Screenshot analizando pool con m√©tricas explicadas',
              xpReward: 70,
              status: 'locked',
              isQuest: false,
              icon: 'üîµ',
              tags: ['analysis', 'explorer', 'metrics']
            }
          ],
          xpTotal: 340,
          estimatedTime: 35,
          status: 'locked',
          completedLessons: 0,
          icon: '‚ö°',
          color: '#F59E0B'
        },
        {
          id: '5.1.3',
          title: 'üåê Cross-Chain Aggregators 2025',
          description: 'üîÆ Next-gen aggregators: Multi-chain routing, intent-based protocols, AI price optimization. Cross L1/L2/Base ecosystem.',
          lessons: [
            {
              id: '5.1.3.1',
              title: 'üöÄ AI-Powered Multi-Chain Routing',
              objective: 'Ahora domino routing inteligente cross-chain con IA',
              description: 'ü§ñ Machine learning routing algorithms, cross-chain bridges optimization, Base-Ethereum-L2 best paths. Real-time gas & bridge fee optimization.',
              duration: 10,
              difficulty: 'advanced',
              evidenceType: 'quest-simulation',
              evidenceDescription: 'Optimizar route cross-chain Base‚ÜíEthereum con AI routing',
              xpReward: 90,
              status: 'locked',
              isQuest: true,
              questType: 'simulation',
              questInstructions: 'Usar AI aggregator para optimal routing entre Base, Arbitrum y Ethereum',
              icon: 'üöÄ',
              tags: ['ai-routing', 'cross-chain', 'base-ecosystem', 'optimization']
            },
            {
              id: '5.1.3.2',
              title: 'MEV y protecci√≥n b√°sica',
              objective: 'Ahora s√© identificar y protegerme del MEV',
              description: 'MEV, sandwich attacks y estrategias de protecci√≥n',
              duration: 9,
              difficulty: 'advanced',
              evidenceType: 'quiz',
              evidenceDescription: 'Resolver casos de MEV y protecci√≥n ‚â•80%',
              xpReward: 85,
              status: 'locked',
              isQuest: false,
              icon: 'üõ°Ô∏è',
              tags: ['mev', 'protection', 'security']
            },
            {
              id: '5.1.3.3',
              title: 'Quiz AMM',
              objective: 'Ahora domino completamente los AMM y DEX',
              description: 'Quiz consolidado de todos los conceptos AMM',
              duration: 5,
              difficulty: 'intermediate',
              evidenceType: 'quiz',
              evidenceDescription: 'Quiz final AMM ‚â•80%',
              xpReward: 50,
              status: 'locked',
              isQuest: false,
              icon: 'üéØ',
              tags: ['quiz', 'consolidation', 'amm']
            }
          ],
          xpTotal: 195,
          estimatedTime: 20,
          status: 'locked',
          completedLessons: 0,
          icon: 'üîó',
          color: '#8B5CF6'
        }
      ],
      xpTotal: 780,
      estimatedTime: 80,
      status: 'locked',
      completedUnits: 0,
      badgeId: 'amm-expert',
      badgeTitle: 'AMM Expert',
      badgeDescription: 'Experto en Automated Market Makers',
      icon: '‚≠ê',
      color: '#10B981',
      position: { x: 120, y: 320 }
    },
    // R2: Lending/borrowing
    {
      id: '5.2',
      title: 'Lending/borrowing',
      description: 'Protocolos de pr√©stamos: colateral, liquidaciones, interest rates y gesti√≥n de riesgo.',
      units: [
        {
          id: '5.2.1',
          title: 'Conceptos',
          description: 'Fundamentos de lending y borrowing protocols',
          lessons: [
            {
              id: '5.2.1.1',
              title: 'Colateral, LTV, liquidaciones',
              objective: 'Ahora s√© gestionar colateral y evitar liquidaciones',
              description: 'Loan-to-Value ratios, collateral requirements y liquidation triggers',
              duration: 10,
              difficulty: 'intermediate',
              evidenceType: 'quiz',
              evidenceDescription: 'Quiz sobre LTV y liquidaciones ‚â•80%',
              xpReward: 90,
              status: 'locked',
              isQuest: false,
              icon: 'üíé',
              tags: ['collateral', 'ltv', 'liquidation']
            },
            {
              id: '5.2.1.2',
              title: 'Tipos de inter√©s; variables/fijas',
              objective: 'Ahora s√© elegir el mejor tipo de inter√©s',
              description: 'Interest rate models: variable vs fixed, supply/demand dynamics',
              duration: 8,
              difficulty: 'intermediate',
              evidenceType: 'quiz',
              evidenceDescription: 'Comparar tipos de inter√©s en diferentes escenarios',
              xpReward: 75,
              status: 'locked',
              isQuest: false,
              icon: 'üìà',
              tags: ['interest-rates', 'fixed', 'variable']
            },
            {
              id: '5.2.1.3',
              title: 'Health factor',
              objective: 'Ahora s√© monitorear y mantener mi health factor',
              description: 'Calculation y monitoring del health factor para evitar liquidaciones',
              duration: 7,
              difficulty: 'intermediate',
              evidenceType: 'quest-simulation',
              evidenceDescription: 'Simular health factor bajo diferentes condiciones',
              xpReward: 80,
              status: 'locked',
              isQuest: true,
              questType: 'simulation',
              questInstructions: 'Calcular health factor en diferentes escenarios de precio',
              icon: '‚ù§Ô∏è',
              tags: ['health-factor', 'monitoring', 'risk']
            }
          ],
          xpTotal: 245,
          estimatedTime: 25,
          status: 'locked',
          completedLessons: 0,
          icon: 'üè¢',
          color: '#EF4444'
        },
        {
          id: '5.2.2',
          title: 'Pr√°ctica ‚ú™',
          description: 'Lending y borrowing real en testnet',
          lessons: [
            {
              id: '5.2.2.1',
              title: '‚ú™ Depositar colateral y pedir pr√©stamo peque√±o',
              objective: 'Ahora s√© usar protocolos de lending de forma segura',
              description: 'Depositar ETH como colateral y pedir pr√©stamo de USDC',
              duration: 18,
              difficulty: 'advanced',
              evidenceType: 'quest-onchain',
              evidenceDescription: 'TX hash de supply + borrow en testnet',
              xpReward: 180,
              status: 'locked',
              isQuest: true,
              questType: 'onchain',
              questInstructions: 'Supply ETH como colateral, borrow USDC manteniendo health factor >2',
              verificationSteps: ['Connect to Compound/Aave testnet', 'Supply collateral', 'Check LTV', 'Borrow safely'],
              icon: 'üí∏',
              tags: ['lending', 'borrowing', 'onchain']
            },
            {
              id: '5.2.2.2',
              title: '‚ú™ Simular liquidaci√≥n y repago',
              objective: 'Ahora s√© manejar liquidaciones y repagos',
              description: 'Simular scenarios de liquidaci√≥n y proceso de repago',
              duration: 15,
              difficulty: 'advanced',
              evidenceType: 'quest-simulation',
              evidenceDescription: 'Documentar liquidation scenario y repayment process',
              xpReward: 150,
              status: 'locked',
              isQuest: true,
              questType: 'simulation',
              questInstructions: 'Simular price drop que trigger liquidaci√≥n, ejecutar repago',
              verificationSteps: ['Setup liquidation scenario', 'Trigger liquidation', 'Execute repayment', 'Document process'],
              icon: '‚ö°',
              tags: ['liquidation', 'repayment', 'simulation']
            },
            {
              id: '5.2.2.3',
              title: 'Monitorear eventos LiquidationCall',
              objective: 'Ahora s√© rastrear liquidaciones on-chain',
              description: 'Leer y analizar eventos de liquidaci√≥n en explorers',
              duration: 10,
              difficulty: 'intermediate',
              evidenceType: 'screenshot',
              evidenceDescription: 'Screenshot de an√°lisis de evento LiquidationCall',
              xpReward: 90,
              status: 'locked',
              isQuest: false,
              icon: 'üîµ',
              tags: ['events', 'liquidation', 'analysis']
            }
          ],
          xpTotal: 420,
          estimatedTime: 43,
          status: 'locked',
          completedLessons: 0,
          icon: 'üíº',
          color: '#F59E0B'
        },
        {
          id: '5.2.3',
          title: 'Riesgos',
          description: 'Risk management en lending protocols',
          lessons: [
            {
              id: '5.2.3.1',
              title: 'Oracle risk, cascadas',
              objective: 'Ahora s√© identificar riesgos de or√°culo',
              description: 'Price oracle failures y liquidation cascades',
              duration: 9,
              difficulty: 'advanced',
              evidenceType: 'quiz',
              evidenceDescription: 'Analizar casos hist√≥ricos de oracle failures',
              xpReward: 85,
              status: 'locked',
              isQuest: false,
              icon: 'üîµ',
              tags: ['oracle', 'risk', 'cascades']
            },
            {
              id: '5.2.3.2',
              title: 'Smart contract risk',
              objective: 'Ahora s√© evaluar riesgos de smart contracts',
              description: 'Protocol risk assessment y due diligence',
              duration: 8,
              difficulty: 'advanced',
              evidenceType: 'quiz',
              evidenceDescription: 'Checklist de evaluaci√≥n de protocol risk',
              xpReward: 80,
              status: 'locked',
              isQuest: false,
              icon: '‚ö†Ô∏è',
              tags: ['smart-contract', 'risk', 'assessment']
            },
            {
              id: '5.2.3.3',
              title: 'Quiz DeFi core',
              objective: 'Ahora domino completamente DeFi lending',
              description: 'Quiz consolidado de lending/borrowing concepts',
              duration: 5,
              difficulty: 'intermediate',
              evidenceType: 'quiz',
              evidenceDescription: 'Quiz final DeFi lending ‚â•80%',
              xpReward: 60,
              status: 'locked',
              isQuest: false,
              icon: 'üéØ',
              tags: ['quiz', 'consolidation', 'defi']
            }
          ],
          xpTotal: 225,
          estimatedTime: 22,
          status: 'locked',
          completedLessons: 0,
          icon: '‚ö†Ô∏è',
          color: '#DC2626'
        }
      ],
      xpTotal: 890,
      estimatedTime: 90,
      status: 'locked',
      completedUnits: 0,
      badgeId: 'lending-expert',
      badgeTitle: 'Lending Expert',
      badgeDescription: 'Experto en protocolos de lending',
      icon: 'üè¢',
      color: '#EF4444',
      position: { x: 280, y: 320 }
    }
  ],
  xpTotal: 1670,
  estimatedTime: 170,
  status: 'locked',
  completedBranches: 0,
  categoryId: 'activos-mercados',
  categoryTitle: 'Activos & Mercados',
  depth: 'high',
  prerequisites: ['M4'],
  masterBadgeId: 'defi-core-master',
  masterBadgeTitle: 'DeFi Core Master',
  masterBadgeDescription: 'Maestro completo del ecosistema DeFi core',
  icon: 'üè™',
  color: '#059669',
  position: { x: 150 + (5 % 6) * 200, y: 80 + Math.floor(5 / 6) * 200 }, // M5: fila 1, pos 6
  hasQuests: true,
  questsCount: 5,
  badgesAvailable: 3
};

const M6_NFT_DIGITAL_MEDIA: Module = {
  id: 'M6',
  title: 'NFT & Digital Media 2025',
  description: 'üé® NFT Revolution 2025: ERC-6551 Token Bound Accounts, Dynamic NFTs con IA, Phygital experiences, Music NFTs con royalties autom√°ticas. Intelligent NFTs (iNFTs) y utility-first approach.',
  objective: 'Dominar NFTs next-gen: TBA wallets, dynamic metadata, AI integration, phygital experiences y casos de uso avanzados en gaming, m√∫sica y arte digital.',
  branches: [
    // R1: Est√°ndares y mint
    {
      id: '6.1',
      title: 'üîÆ ERC-6551 Token Bound Accounts',
      description: '‚ö° Revolutionary NFTs 2025: ERC-6551 TBA wallets, ERC-7857 Intelligent NFTs, dynamic on-chain identity. NFTs que poseen activos y ejecutan smart contracts.',
      units: [
        {
          id: '6.1.1',
          title: 'üöÄ ERC-6551 & TBA Implementation',
          description: '‚ö° Token Bound Accounts: Cada NFT con su propia wallet. Gaming characters que poseen items, AI agents transferibles.',
          lessons: [
            {
              id: '6.1.1.1',
              title: 'ü§ñ ERC-7857 Intelligent NFTs (iNFTs)',
              objective: 'Ahora s√© crear NFTs con AI agents integrados y re-encryption',
              description: '‚ö° Breakthrough 2025: iNFTs con AI agents seguros, re-encryption methods, transferencia de inteligencia. NFTs que evolucionan aut√≥nomamente.',
              duration: 15,
              difficulty: 'advanced',
              evidenceType: 'quest-onchain',
              evidenceDescription: 'Crear iNFT con AI agent funcional en Base testnet',
              xpReward: 150,
              status: 'locked',
              isQuest: true,
              questType: 'onchain',
              questInstructions: 'Deploy iNFT con AI agent b√°sico y demostrar capacidades aut√≥nomas',
              icon: 'ü§ñ',
              tags: ['erc-7857', 'intelligent-nfts', 'ai-agents', 're-encryption']
            },
            {
              id: '6.1.1.2',
              title: 'üéµ Music NFTs & Auto-Royalties 2025',
              objective: 'Ahora domino royalties autom√°ticas para m√∫sica y utility NFTs',
              description: 'üéº Music NFTs que generan $500M+/a√±o, royalty splits autom√°ticos, backstage access, voting rights art√≠sticos. Streaming revenue distribution.',
              duration: 12,
              difficulty: 'advanced',
              evidenceType: 'quest-simulation',
              evidenceDescription: 'Crear Music NFT con royalty splitting autom√°tico',
              xpReward: 110,
              status: 'locked',
              isQuest: true,
              questType: 'simulation',
              questInstructions: 'Configurar Music NFT con m√∫ltiples beneficiarios de royalties y utility access',
              icon: 'üéµ',
              tags: ['music-nfts', 'auto-royalties', 'utility', 'revenue-split']
            },
            {
              id: '6.1.1.3',
              title: 'TokenURI y gateways IPFS',
              objective: 'Ahora s√© configurar URIs persistentes para NFTs',
              description: 'IPFS CID, gateways p√∫blicos y privados, pinning strategies',
              duration: 12,
              difficulty: 'advanced',
              evidenceType: 'quest-simulation',
              evidenceDescription: 'Upload a IPFS y configurar multiple gateways',
              xpReward: 95,
              status: 'locked',
              isQuest: true,
              questType: 'simulation',
              questInstructions: 'Subir imagen + metadata a IPFS, configurar 3 gateways diferentes',
              icon: 'üîµ',
              tags: ['ipfs', 'gateways', 'persistence']
            }
          ],
          xpTotal: 250,
          estimatedTime: 30,
          status: 'locked',
          completedLessons: 0,
          icon: 'üè∑Ô∏è',
          color: '#8B5CF6'
        },
        {
          id: '6.1.2',
          title: 'Mint ‚ú™',
          description: 'Minteo pr√°ctico de NFTs en testnet',
          lessons: [
            {
              id: '6.1.2.1',
              title: '‚ú™ Mint en Base Sepolia con imagen IPFS',
              objective: 'Ahora s√© mintear NFTs con metadata descentralizada',
              description: 'Mint completo: upload imagen a IPFS, crear metadata, mint on-chain',
              duration: 20,
              difficulty: 'advanced',
              evidenceType: 'quest-onchain',
              evidenceDescription: 'TX hash de mint + NFT visible en wallet',
              xpReward: 150,
              status: 'locked',
              isQuest: true,
              questType: 'onchain',
              questInstructions: '1) Upload image to IPFS, 2) Create metadata.json, 3) Upload metadata, 4) Mint with tokenURI',
              verificationSteps: ['Upload to IPFS', 'Create metadata JSON', 'Mint transaction', 'Verify in wallet/explorer'],
              icon: 'üîµ',
              tags: ['mint', 'ipfs', 'base-sepolia']
            },
            {
              id: '6.1.2.2',
              title: '‚ú™ Ver imagen en explorer y wallet',
              objective: 'Ahora s√© verificar que NFTs se muestran correctamente',
              description: 'Verificaci√≥n en BaseScan, MetaMask y otros explorers/wallets',
              duration: 8,
              difficulty: 'intermediate',
              evidenceType: 'screenshot',
              evidenceDescription: 'Screenshot de NFT visible en 2+ wallets/explorers',
              xpReward: 60,
              status: 'locked',
              isQuest: false,
              icon: 'üîµ',
              tags: ['verification', 'display', 'wallets']
            },
            {
              id: '6.1.2.3',
              title: 'Actualizar metadata (if mutable) y verificar',
              objective: 'Ahora s√© manejar metadata mutable en NFTs',
              description: 'Casos de uso para metadata mutable y proceso de actualizaci√≥n',
              duration: 12,
              difficulty: 'advanced',
              evidenceType: 'quest-simulation',
              evidenceDescription: 'Simular update de metadata y verificar cambios',
              xpReward: 90,
              status: 'locked',
              isQuest: true,
              questType: 'simulation',
              questInstructions: 'Update metadata de NFT mutable, verificar refresh en marketplace',
              icon: '‚≠ê',
              tags: ['mutable', 'update', 'metadata']
            }
          ],
          xpTotal: 300,
          estimatedTime: 40,
          status: 'locked',
          completedLessons: 0,
          icon: '‚ö°',
          color: '#F59E0B'
        },
        {
          id: '6.1.3',
          title: 'Pr√°cticas de colecci√≥n',
          description: 'Best practices para colecciones NFT exitosas',
          lessons: [
            {
              id: '6.1.3.1',
              title: 'Supply, reveal, anti-fraude',
              objective: 'Ahora s√© planificar lanzamientos NFT profesionales',
              description: 'Supply planning, reveal mechanisms, rarity distribution, anti-sniping',
              duration: 15,
              difficulty: 'advanced',
              evidenceType: 'quiz',
              evidenceDescription: 'Dise√±ar estrategia de launch completa ‚â•80%',
              xpReward: 120,
              status: 'locked',
              isQuest: false,
              icon: 'üî∫',
              tags: ['supply', 'reveal', 'launch-strategy']
            },
            {
              id: '6.1.3.2',
              title: 'Licencias/propiedad intelectual',
              objective: 'Ahora s√© manejar aspectos legales de NFTs',
              description: 'Copyright, licensing models, commercial usage rights, IP considerations',
              duration: 12,
              difficulty: 'intermediate',
              evidenceType: 'quiz',
              evidenceDescription: 'Resolver casos de copyright y licensing ‚â•80%',
              xpReward: 100,
              status: 'locked',
              isQuest: false,
              icon: 'üî∫',
              tags: ['copyright', 'licensing', 'legal']
            },
            {
              id: '6.1.3.3',
              title: 'Quiz NFT',
              objective: 'Ahora domino completamente los fundamentos NFT',
              description: 'Quiz consolidado de est√°ndares, mint y best practices',
              duration: 5,
              difficulty: 'intermediate',
              evidenceType: 'quiz',
              evidenceDescription: 'Quiz final NFT fundamentals ‚â•80%',
              xpReward: 70,
              status: 'locked',
              isQuest: false,
              icon: 'üéØ',
              tags: ['quiz', 'consolidation', 'nft']
            }
          ],
          xpTotal: 290,
          estimatedTime: 32,
          status: 'locked',
          completedLessons: 0,
          icon: '‚ñ¨',
          color: '#10B981'
        }
      ],
      xpTotal: 840,
      estimatedTime: 102,
      status: 'locked',
      completedUnits: 0,
      badgeId: 'nft-creator',
      badgeTitle: 'NFT Creator',
      badgeDescription: 'Creador experto de NFTs',
      icon: 'üîµ',
      color: '#8B5CF6',
      position: { x: 120, y: 400 }
    },
    // R2: Phygital NFTs & Corporate Adoption 2025
    {
      id: '6.2',
      title: 'üåç Phygital NFTs & Corporate Integration',
      description: 'üîÆ 2025 trends: 60% m√°s transacciones phygital, Nike digital sneakers, luxury authentication, wine NFTs con tastings exclusivos. Corporate loyalty programs.',
      units: [
        {
          id: '6.2.1',
          title: 'üè∑Ô∏è Luxury Authentication & Digital Passports',
          description: '‚ú® Corporate NFTs 2025: Luxury fashion authentication, wine batch tracking, Nike digital sneakers. Brand loyalty programs integrados.',
          lessons: [
            {
              id: '6.2.1.1',
              title: 'üëë Nike Digital Sneakers & Luxury Auth',
              objective: 'Ahora domino authentication systems para luxury brands',
              description: 'üî• Nike digital sneakers case study, luxury fashion authentication protocols, anti-counterfeit systems. Blockchain certificates inmutables.',
              duration: 14,
              difficulty: 'advanced',
              evidenceType: 'quest-simulation',
              evidenceDescription: 'Crear sistema de autenticaci√≥n para producto luxury',
              xpReward: 120,
              status: 'locked',
              isQuest: true,
              questType: 'simulation',
              questInstructions: 'Dise√±ar digital passport para luxury item con authenticity verification',
              icon: 'üëë',
              tags: ['luxury-auth', 'nike-case', 'anti-counterfeit', 'brand-protection']
            },
            {
              id: '6.2.1.2',
              title: 'Triggers (or√°culos, tiempo, eventos)',
              objective: 'Ahora s√© implementar NFTs que responden a eventos',
              description: 'Price oracles, time-based changes, game events como triggers',
              duration: 15,
              difficulty: 'advanced',
              evidenceType: 'quest-simulation',
              evidenceDescription: 'Dise√±ar NFT que cambia con precio de ETH',
              xpReward: 120,
              status: 'locked',
              isQuest: true,
              questType: 'simulation',
              questInstructions: 'Crear NFT din√°mico que cambia seg√∫n precio ETH usando Chainlink',
              icon: '‚ö°',
              tags: ['oracles', 'dynamic', 'triggers']
            },
            {
              id: '6.2.1.3',
              title: 'Casos de uso',
              objective: 'Ahora s√© identificar oportunidades para NFTs din√°micos',
              description: 'Gaming, memberships, achievements, evolving art, data visualization',
              duration: 8,
              difficulty: 'intermediate',
              evidenceType: 'quiz',
              evidenceDescription: 'Proponer 3 use cases innovadores de dNFTs',
              xpReward: 70,
              status: 'locked',
              isQuest: false,
              icon: 'üí°',
              tags: ['use-cases', 'innovation', 'applications']
            }
          ],
          xpTotal: 270,
          estimatedTime: 33,
          status: 'locked',
          completedLessons: 0,
          icon: '‚≠ê',
          color: '#06B6D4'
        },
        {
          id: '6.2.2',
          title: 'Integraci√≥n mercados',
          description: 'Listado y operaciones en marketplaces NFT',
          lessons: [
            {
              id: '6.2.2.1',
              title: 'Listar en marketplace testnet',
              objective: 'Ahora s√© listar NFTs en marketplaces',
              description: 'Proceso de listado en OpenSea testnet, pricing strategies',
              duration: 15,
              difficulty: 'intermediate',
              evidenceType: 'quest-onchain',
              evidenceDescription: 'NFT listado en marketplace con precio',
              xpReward: 100,
              status: 'locked',
              isQuest: true,
              questType: 'onchain',
              questInstructions: 'Listar NFT en OpenSea testnet con precio justo',
              verificationSteps: ['Connect wallet to marketplace', 'Set approval', 'List with price', 'Verify listing'],
              icon: 'üè™',
              tags: ['marketplace', 'listing', 'opensea']
            },
            {
              id: '6.2.2.2',
              title: 'Royalties en pr√°ctica',
              objective: 'Ahora s√© configurar y cobrar royalties',
              description: 'Setup de royalties, tracking de payments, marketplace compatibility',
              duration: 12,
              difficulty: 'intermediate',
              evidenceType: 'screenshot',
              evidenceDescription: 'Screenshot de royalty configuration en marketplace',
              xpReward: 85,
              status: 'locked',
              isQuest: false,
              icon: 'üíé',
              tags: ['royalties', 'payments', 'configuration']
            },
            {
              id: '6.2.2.3',
              title: 'Lectura de ventas en explorer',
              objective: 'Ahora s√© rastrear ventas y m√©tricas NFT',
              description: 'Analizar Transfer events, sales volume, price trends en explorers',
              duration: 10,
              difficulty: 'intermediate',
              evidenceType: 'screenshot',
              evidenceDescription: 'An√°lisis de m√©tricas de venta en explorer',
              xpReward: 75,
              status: 'locked',
              isQuest: false,
              icon: 'üìà',
              tags: ['analytics', 'sales', 'tracking']
            }
          ],
          xpTotal: 260,
          estimatedTime: 37,
          status: 'locked',
          completedLessons: 0,
          icon: 'üè™',
          color: '#F59E0B'
        },
        {
          id: '6.2.3',
          title: 'Quest ‚ú™',
          description: 'Proyecto completo de NFT marketplace',
          lessons: [
            {
              id: '6.2.3.1',
              title: '‚ú™ Mint + listar + comprar con wallet secundaria',
              objective: 'Ahora s√© completar el ciclo completo de NFT marketplace',
              description: 'Flujo completo: mint NFT, listar en marketplace, comprar desde otra wallet',
              duration: 25,
              difficulty: 'advanced',
              evidenceType: 'quest-onchain',
              evidenceDescription: 'TX hashes de mint, list y purchase completos',
              xpReward: 200,
              status: 'locked',
              isQuest: true,
              questType: 'onchain',
              questInstructions: 'Wallet A: mint + list, Wallet B: purchase, documentar todo el flujo',
              verificationSteps: ['Mint from wallet A', 'List on marketplace', 'Buy from wallet B', 'Verify ownership transfer'],
              icon: '‚≠ê',
              tags: ['complete-cycle', 'marketplace', 'onchain']
            },
            {
              id: '6.2.3.2',
              title: '‚ú™ Reclamar badge de creador',
              objective: 'Ahora soy un creador NFT certificado',
              description: 'Badge especial para completar todo el m√≥dulo NFT & Digital Media',
              duration: 5,
              difficulty: 'intermediate',
              evidenceType: 'quest-onchain',
              evidenceDescription: 'Mint del badge NFT Creator en Base Sepolia',
              xpReward: 150,
              status: 'locked',
              isQuest: true,
              questType: 'onchain',
              questInstructions: 'Claim NFT Creator badge tras completar m√≥dulo',
              icon: 'üèÜ',
              tags: ['badge', 'certification', 'achievement']
            },
            {
              id: '6.2.3.3',
              title: 'Quiz media',
              objective: 'Ahora domino completamente el ecosistema NFT',
              description: 'Quiz final sobre dynamic NFTs, marketplaces y casos de uso',
              duration: 8,
              difficulty: 'advanced',
              evidenceType: 'quiz',
              evidenceDescription: 'Quiz final NFT ecosystem ‚â•80%',
              xpReward: 100,
              status: 'locked',
              isQuest: false,
              icon: 'üéØ',
              tags: ['quiz', 'final', 'mastery']
            }
          ],
          xpTotal: 450,
          estimatedTime: 38,
          status: 'locked',
          completedLessons: 0,
          icon: 'üèÜ',
          color: '#EF4444'
        }
      ],
      xpTotal: 980,
      estimatedTime: 108,
      status: 'locked',
      completedUnits: 0,
      badgeId: 'nft-marketplace-expert',
      badgeTitle: 'NFT Marketplace Expert',
      badgeDescription: 'Experto en marketplaces y dynamic NFTs',
      icon: 'üè™',
      color: '#06B6D4',
      position: { x: 280, y: 400 }
    }
  ],
  xpTotal: 1820,
  estimatedTime: 210,
  status: 'locked',
  completedBranches: 0,
  categoryId: 'activos-mercados',
  categoryTitle: 'Activos & Mercados',
  depth: 'high',
  prerequisites: ['M5'],
  masterBadgeId: 'nft-digital-media-master',
  masterBadgeTitle: 'NFT & Digital Media Master',
  masterBadgeDescription: 'Maestro completo del ecosistema NFT y medios digitales',
  icon: 'üñºÔ∏è',
  color: '#8B5CF6',
  position: { x: 150 + (6 % 6) * 200, y: 80 + Math.floor(6 / 6) * 200 }, // M6: fila 2, pos 1
  hasQuests: true,
  questsCount: 6,
  badgesAvailable: 4
};

// Remaining modules M7-M20 as placeholders (ser√° completado progresivamente)
const remainingModules: Module[] = Array.from({ length: 14 }, (_, i) => ({
  id: `M${i + 7}`,
  title: `M√≥dulo ${i + 7}`,
  description: `Descripci√≥n detallada del m√≥dulo ${i + 7}`,
  objective: `Objetivo espec√≠fico del m√≥dulo ${i + 7}`,
  branches: [],
  xpTotal: 1200 + i * 100,
  estimatedTime: 60 + i * 5,
  status: 'locked' as const,
  completedBranches: 0,
  categoryId: categories[Math.min(Math.floor((i + 7) / 3), categories.length - 1)].id,
  categoryTitle: categories[Math.min(Math.floor((i + 7) / 3), categories.length - 1)].title,
  depth: i < 2 ? 'high' as const : 'medium' as const,
  prerequisites: [`M${i + 6}`],
  masterBadgeId: `module-${i + 7}-master`,
  masterBadgeTitle: `M√≥dulo ${i + 7} Master`,
  masterBadgeDescription: `Maestro del m√≥dulo ${i + 7}`,
  icon: ['üñºÔ∏è', 'üèõÔ∏è', 'üåê', 'üîí', 'üåâ', 'üß†', 'üìä', 'üìà', 'üë®‚Äçüíª', 'üß™', 'üîÆ', 'üíæ', 'üéÆ', '‚öñÔ∏è', 'üöÄ'][i] || 'üìö',
  color: ['#10B981', '#059669', '#A855F7', '#8B5CF6', '#06B6D4', '#0EA5E9', '#14B8A6', '#EF4444', '#F59E0B', '#84CC16', '#8B5CF6', '#6366F1', '#EC4899', '#7C3AED', '#F97316'][i] || '#6B7280',
  position: { 
    x: 150 + ((i + 7) % 6) * 200, 
    y: 80 + Math.floor((i + 7) / 6) * 200 
  },
  hasQuests: true,
  questsCount: i < 3 ? 4 : 3,
  badgesAvailable: i < 3 ? 4 : 3
}));

// Combine all modules: M0-M4 (detailed) + M5 (DeFi Core) + M6 (NFT) + M7-M20 (placeholders)
export const allModules = [...modules, M5_DEFI_CORE, M6_NFT_DIGITAL_MEDIA, ...remainingModules];

export default {
  categories,
  modules: allModules
};